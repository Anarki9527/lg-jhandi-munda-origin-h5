window.__require=function e(t,i,a){function n(o,r){if(!i[o]){if(!t[o]){var c=o.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){return n(t[o][1][e]||e)},u,u.exports,e,t,i,a)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<a.length;o++)n(a[o]);return n}({AwardLayer:[function(e,t,i){"use strict";cc._RF.push(t,"d5e1cdeqlJAJamaQFyHOTGv","AwardLayer");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("./Common/PopupBase"),o=e("./Common/UIUtils"),r=e("../Business/Data/CommonDefine"),c=e("../Business/Logic/GameNotice"),{ccclass:l,property:u,menu:d}=cc._decorator;let p=class extends s.default{constructor(){super(...arguments),this.amount=null,this.winAni=null,this.bigWinAni=null,this.bg=null,this.numTw=null,this.aniDone=!1,this.awardSum=0,this.bigWin=!1,this.canHide=!1,this.soundWinId=0,this.soundBigWinId=0}static get path(){return"Scenes/Game/award_layer"}onLoad(){}playShowAnimation(e){return new Promise(t=>{const i=this.background,a=this.main;this.node.active=!0,i.active=!0,i.opacity=0,a.active=!0,a.scale=.5,a.opacity=0,cc.tween(i).to(.5*e,{opacity:150}).start(),cc.tween(a).to(e,{scale:1,opacity:255},{easing:"smooth"}).to(.1,{scale:.9,opacity:255},{easing:"smooth"}).to(.1,{scale:1,opacity:255},{easing:"smooth"}).call(t).start()})}init(e){this.animationDuration=.3,this.aniDone=!1,this.canHide=!0,this.bigWin=e.bigWin,this.awardSum=e.bigWin?2*e.amount:e.amount}updateDisplay(e){this.soundWinId=n.AudioEngine.playEffect(r.SoundList.Win),n.AudioEngine.setMusicVolume(.2),this.winAni.playAnimation("newAnimation",0);let t={num:0};this.amount.string="\u20b9"+t.num,this.numTw=cc.tween(t).to(1,{num:e.amount},{progress:(e,t,i,a)=>{let n=Math.ceil(e+(t-e)*a);return this.amount.string="\u20b9"+o.UIUtils.getShortNumber(n,!0),e+(t-e)*a}}),e.bigWin&&(this.numTw.delay(.5),this.numTw.call(()=>{this.bigWinAni.node.active=!0,this.bigWinAni.playAnimation("newAnimation",0),this.soundBigWinId=n.AudioEngine.playEffect(r.SoundList.BigWin)}),this.numTw.to(1,{num:2*e.amount},{progress:(e,t,i,a)=>{let n=Math.ceil(e+(t-e)*a);return this.amount.string="\u20b9"+o.UIUtils.getShortNumber(n,!0),e+(t-e)*a}})),this.numTw.call(()=>{this.aniDone=!0}).delay(3).call(this.hideLayer.bind(this)).start()}onAfterHide(){this.bigWinAni.node.active=!1}onTouchSkip(){this.canHide&&(this.aniDone?(this.animationDuration=0,n.AudioEngine.stopEffect(this.soundWinId),n.AudioEngine.stopEffect(this.soundBigWinId),this.hideLayer()):(this.numTw.stop(),this.numTw=cc.tween(this.node).delay(3).call(this.hideLayer.bind(this)).start(),this.amount.string="\u20b9"+o.UIUtils.getShortNumber(this.awardSum,!0),this.bigWin&&(this.bigWinAni.node.active=!0),this.aniDone=!0))}hideLayer(){this.numTw.stop(),this.hide(),this.canHide=!1,n.noticeCenter.emit(new c.NtcAwardHide)}};a([u(cc.Label)],p.prototype,"amount",void 0),a([u(dragonBones.ArmatureDisplay)],p.prototype,"winAni",void 0),a([u(dragonBones.ArmatureDisplay)],p.prototype,"bigWinAni",void 0),a([u(cc.Node)],p.prototype,"bg",void 0),p=a([l],p),i.default=p,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase","./Common/UIUtils":"UIUtils"}],BetCell:[function(e,t,i){"use strict";cc._RF.push(t,"77370utKsJPB6mi8EO3B9Sv","BetCell");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("../Business/Data/DataManager"),o=e("../Business/Data/CommonDefine"),r=e("../Business/Logic/GameNotice"),c=e("./Common/PopupManager"),{ccclass:l,property:u,menu:d}=cc._decorator;let p=class extends cc.Component{constructor(){super(...arguments),this.txtAmount=null,this.btnBet=null,this.imgShineFrame=null,this.isMidArea=!1,this.betKey=null}onLoad(){n.noticeCenter.registAllNotice(this),null==this.btnBet&&(this.btnBet=this.node),this.btnBet.on(cc.Node.EventType.TOUCH_END,this.onTouchBet,this)}setBetKey(e,t){this.betKey=e,null!=t&&(this.txtAmount.string=t.toString())}onTouchBet(){if(s.default.gameData.getGameStage()!=o.GameStage.Prepare)return;if(!this.isMidArea&&!s.default.userData.getMidBet())return void c.default.show(o.PrefabList.MessageLayer,n.LocalLang.get("game_place_mid_tips"));if(s.default.userData.getBalance()<s.default.userData.getBetSum()+s.default.homeData.getChipLst()[s.default.userData.getSelectChip()])return void c.default.show(o.PrefabList.MessageLayer,n.LocalLang.get("game_low_balance_tips"));let e=new r.NtcPlaceChips;e.betKey=this.betKey,e.isMid=this.isMidArea,n.noticeCenter.emit(e),s.default.userData.setMidBet(!0)}};a([u(cc.Label)],p.prototype,"txtAmount",void 0),a([u(cc.Node)],p.prototype,"btnBet",void 0),a([u(cc.Node)],p.prototype,"imgShineFrame",void 0),a([u],p.prototype,"isMidArea",void 0),p=a([l],p),i.default=p,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./Common/PopupManager":"PopupManager"}],BetChip:[function(e,t,i){"use strict";cc._RF.push(t,"567c4AQwM9JxJXy5gJtMWf2","BetChip");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("../Business/Data/DataManager"),{ccclass:o,property:r,menu:c}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.txtAmount=null,this.imgBg=null,this.colorList=["#00095C","#EAEAEA","#FFFFFF","#FFFFFF","#FFFFFF","#0A0A09"]}onLoad(){n.noticeCenter.registAllNotice(this)}setBetSum(e){let t=0,i=s.default.homeData.getChipLst();for(let a=0;a<i.length;a++){let n=i[a],s=i[a+1];a==i.length-1?n<=e&&(t=a):n<=e&&e<s&&(t=a)}this.txtAmount.string=(e/s.default.homeData.getChipsUnit()).toString(),this.txtAmount.node.color=(new cc.Color).fromHEX(this.colorList[t]),this.imgBg.spriteFrame=cc.resources.get("Texture/Game/Chips/chip_no_word"+t,cc.SpriteFrame)}};a([r(cc.Label)],l.prototype,"txtAmount",void 0),a([r(cc.Sprite)],l.prototype,"imgBg",void 0),l=a([o],l),i.default=l,cc._RF.pop()},{"../Business/Data/DataManager":"DataManager","../MobileKit/MKIndex":"MKIndex"}],BetData:[function(e,t,i){"use strict";cc._RF.push(t,"9ece0iQEuVAH5ptA5hFfJkC","BetData"),Object.defineProperty(i,"__esModule",{value:!0}),i.BettingOrderInfo=i.BetAreaData=i.BetAreaInfo=void 0,i.BetAreaInfo=class{constructor(){this.chipPlace=null,this.betSum=0}},i.BetAreaData=new Map,i.BettingOrderInfo=class{constructor(){this.betKey="",this.betAmount=0}},cc._RF.pop()},{}],ClickSoundComponent:[function(e,t,i){"use strict";cc._RF.push(t,"00bf4ztalhNVoWG4SmO7AfR","ClickSoundComponent");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../MKIndex"),s=e("../../Business/Data/CommonDefine"),{ccclass:o,property:r}=cc._decorator;let c=class extends cc.Component{onLoad(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchNode,this)}onDestroy(){}onTouchNode(){0==this.node.getComponent(cc.Button).interactable?n.AudioEngine.playEffect(s.SoundList.BtnWrong):n.AudioEngine.playEffect(s.SoundList.Click)}};c=a([o],c),i.default=c,cc._RF.pop()},{"../../Business/Data/CommonDefine":"CommonDefine","../MKIndex":"MKIndex"}],CommonDefine:[function(e,t,i){"use strict";cc._RF.push(t,"9efc0rsiaVG/piSLAHE8XaR","CommonDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.RecordData=i.SpriteList=i.SoundList=i.PrefabList=i.Odds=i.LangList=i.SymbolTypeNum=i.SymbolType=i.GameStage=i.SceneType=i.UserType=i.DiceType=void 0,function(e){e[e.Club=0]="Club",e[e.Crown=1]="Crown",e[e.Spades=2]="Spades",e[e.Diamond=3]="Diamond",e[e.Flag=4]="Flag",e[e.Heart=5]="Heart"}(i.DiceType||(i.DiceType={})),function(e){e[e.Guest=1]="Guest",e[e.Account=2]="Account"}(i.UserType||(i.UserType={})),function(e){e[e.Loading=0]="Loading",e[e.Lobby=1]="Lobby",e[e.Game=2]="Game"}(i.SceneType||(i.SceneType={})),function(e){e[e.Wait=0]="Wait",e[e.Prepare=1]="Prepare",e[e.Spinning=2]="Spinning",e[e.Finish=3]="Finish"}(i.GameStage||(i.GameStage={})),function(e){e.Club="Club",e.Flag="Flag",e.Spades="Spades",e.Diamond="Diamond",e.Crown="Crown",e.Heart="Heart",e.Mid="Mid"}(i.SymbolType||(i.SymbolType={})),function(e){e[e.Club=0]="Club",e[e.Crown=1]="Crown",e[e.Spades=2]="Spades",e[e.Diamond=3]="Diamond",e[e.Flag=4]="Flag",e[e.Heart=5]="Heart",e[e.Mid=6]="Mid"}(i.SymbolTypeNum||(i.SymbolTypeNum={})),function(e){e[e.en=0]="en",e[e.hi=1]="hi"}(i.LangList||(i.LangList={})),i.Odds=[2.5,2,4,15,100,1250,4e4,3.2];class a{}i.PrefabList=a,a.AwardLayer="Scenes/Game/award_layer",a.MessageLayer="Scenes/Game/message_layer",a.MenuLayer="Scenes/Game/menu_layer",a.BtnBet="Scenes/Game/btn_bet",a.BetChip="Scenes/Game/betChip",a.PaytableLayer="Scenes/Game/paytable_layer",a.HelpLayer="Scenes/Game/help_layer",a.LanguageLayer="Scenes/Game/language_layer",a.GameRecordLayer="Scenes/Game/game_record_layer",a.RecordCell="Scenes/Game/RecordCell",a.RecordPage="Scenes/Game/RecordPage";class n{}i.SoundList=n,n.Bgm="Sound/bgm_hall",n.Click="Sound/click",n.Win="Sound/win",n.BigWin="Sound/big_winner",n.DiceSpin="Sound/dice_spin",n.Chip="Sound/chip",n.BtnWrong="Sound/btn_wrong";class s{}i.SpriteList=s,s.btnPlayNormal="Texture/Game/Button/img_play",s.btnPlayDis="Texture/Game/Button/img_play_dis",s.btnPlayPress="Texture/Game/Button/img_play_press",i.RecordData=class{},cc._RF.pop()},{}],ConfigManager:[function(e,t,i){"use strict";cc._RF.push(t,"61ecdS7zDhJaIyXsWMOoGLM","ConfigManager"),Object.defineProperty(i,"__esModule",{value:!0});class a{static setUrlConfig(e){a.urlConfig=e}static setAppInfo(e){a.appInfo=e}}i.default=a,a.urlConfig=null,a.appInfo=null,cc._RF.pop()},{}],DataManager:[function(e,t,i){"use strict";cc._RF.push(t,"bb44c7d08JNtpYy1h8nVOKI","DataManager"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("./UserData"),n=e("./HomeData"),s=e("./GameData");class o{static init(){o.userData=new a.default,o.homeData=new n.HomeData,o.gameData=new s.default}}i.default=o,cc._RF.pop()},{"./GameData":"GameData","./HomeData":"HomeData","./UserData":"UserData"}],GameController:[function(e,t,i){"use strict";cc._RF.push(t,"b33e4rPpodINYZCfe4x62BN","GameController");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.GameController=i.CmdDiceSpin=void 0;const n=e("../../MobileKit/MKIndex"),s=e("../../Business/Data/ConfigManager"),o=e("../../Business/Data/DataManager"),r=e("./GameNotice");let c=class{};c=a([n.createCommand],c),i.CmdDiceSpin=c;class l extends n.Controller{constructor(){super(),this.setName("SettingController"),n.noticeCenter.registAllNotice(this),n.commandCenter.registAllCommand(this)}onExit(){n.noticeCenter.targetOff(this),n.commandCenter.targetOff(this)}onCmdDiceSpin(e){s.default.urlConfig.base;let t={};t.token=o.default.userData.getCert(),t.userid=o.default.userData.getUid(),t.betamount=e.betAmount,t.betinfo=e.betInfo,cc.log("dicespin params = "+JSON.stringify(t));let i={data:{}};i.data.balance=9999999,i.data.diceResult=[];for(let a=0;a<6;a++){let e=n.Utils.randRange(0,5);i.data.diceResult.push(e)}i.data.award=100,i.data.bigWin=!0,this.onDiceSpin(!0,i)}onDiceSpin(e,t){if(e){cc.log("dicespin result = ",JSON.stringify(t));let e=new r.NtcDiceSpin;e.diceResult=t.data.diceResult,e.award=t.data.award,e.bigWin=t.data.bigWin,n.noticeCenter.emit(e)}}}a([n.onCommand(c)],l.prototype,"onCmdDiceSpin",null),i.GameController=l,cc._RF.pop()},{"../../Business/Data/ConfigManager":"ConfigManager","../../Business/Data/DataManager":"DataManager","../../MobileKit/MKIndex":"MKIndex","./GameNotice":"GameNotice"}],GameData:[function(e,t,i){"use strict";cc._RF.push(t,"587c8jaYAZM36hqR3idCuRU","GameData"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("./CommonDefine");i.default=class{constructor(){this.m_gameStage=a.GameStage.Prepare,this.m_placeMaxBet=0}getGameStage(){return this.m_gameStage}setGameStage(e){this.m_gameStage=e}getPlaceMaxBet(){return this.m_placeMaxBet}setPlaceMaxBet(e){this.m_placeMaxBet=e}},cc._RF.pop()},{"./CommonDefine":"CommonDefine"}],GameNotice:[function(e,t,i){"use strict";cc._RF.push(t,"31af3V/1NxB4o3CuR3dhUJ9","GameNotice");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.NtcAwardHide=i.NtcDiceSpin=i.NtcPlaceChips=void 0;const n=e("../../MobileKit/MKIndex");let s=class{constructor(){this.isMid=!1}};s=a([n.createNotice],s),i.NtcPlaceChips=s;let o=class{constructor(){this.diceResult=[],this.balance=0,this.award=0,this.bigWin=!1}};o=a([n.createNotice],o),i.NtcDiceSpin=o;let r=class{};r=a([n.createNotice],r),i.NtcAwardHide=r,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],GameRecordLayer:[function(e,t,i){"use strict";cc._RF.push(t,"76d256602JCGZ6NhZiNIqo9","GameRecordLayer");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Business/Data/DataManager"),s=e("./Common/PopupBase"),o=e("./Common/PrefabPool"),r=e("../Business/Data/CommonDefine"),c=e("./RecordPage"),{ccclass:l,property:u,menu:d}=cc._decorator;let p=class extends s.default{constructor(){super(...arguments),this.txtPage=null,this.noDataTips=null,this.pageView=null,this.btnSwitchRight=null,this.btnSwitchLeft=null}static get path(){return"Scenes/Game/game_record_layer"}onLoad(){this.main||(this.main=this.node),this.btnSwitchRight.node.on("click",this.onTouchRight,this),this.btnSwitchLeft.node.on("click",this.onTouchLeft,this),this.pageView.node.on("page-turning",this.onPageTurning,this),this.clearPage(),this.resetBtnState()}updateDisplay(){let e=n.default.userData.getGameRecordLst();if(0==e.length)return this.noDataTips.active=!0,this.btnSwitchLeft.interactable=!1,void(this.btnSwitchRight.interactable=!1);this.noDataTips.active=!1,e.length>=50&&(e=e.slice(0,50)),e.sort((e,t)=>t.time-e.time);let t=e.length/10,i=e.length%10==0?t:Math.floor(t)+1;for(let a=0;a<i;a++){let t=o.default.get(r.PrefabList.RecordPage),n=t.getComponent(c.RecordPage);this.pageView.addPage(t);let s=10*a,l=a==i-1?e.length:s+10,u=[];for(let i=s;i<l;i++)u.push(e[i]);n.setRecordList(u)}}onAfterHide(){this.clearPage()}clearPage(){}onTouchClose(){this.hide()}onTouchRight(){let e=this.pageView.getCurrentPageIndex()+1;e<this.pageView.getPages().length&&this.pageView.setCurrentPageIndex(e)}onTouchLeft(){let e=this.pageView.getCurrentPageIndex()-1;e<0||this.pageView.setCurrentPageIndex(e)}onPageTurning(e){this.resetBtnState()}resetBtnState(){let e=this.pageView.getCurrentPageIndex();this.txtPage.string=(e+1).toString();let t=this.pageView.getPages().length;0==e?(this.btnSwitchLeft.interactable=!1,t>1&&(this.btnSwitchRight.interactable=!0)):e+1==t?(this.btnSwitchLeft.interactable=!0,this.btnSwitchRight.interactable=!1):(this.btnSwitchLeft.interactable=!0,this.btnSwitchRight.interactable=!0)}};a([u(cc.Label)],p.prototype,"txtPage",void 0),a([u(cc.Node)],p.prototype,"noDataTips",void 0),a([u(cc.PageView)],p.prototype,"pageView",void 0),a([u(cc.Button)],p.prototype,"btnSwitchRight",void 0),a([u(cc.Button)],p.prototype,"btnSwitchLeft",void 0),p=a([l],p),i.default=p,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","./Common/PopupBase":"PopupBase","./Common/PrefabPool":"PrefabPool","./RecordPage":"RecordPage"}],GameScene:[function(e,t,i){"use strict";cc._RF.push(t,"a7d62FcWh5K2YaaMxNMEQCG","GameScene");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("../Business/Data/DataManager"),o=e("../Business/Data/ConfigManager"),r=e("../Business/Data/CommonDefine"),c=e("../Business/Data/BetData"),l=e("./BetCell"),u=e("./BetChip"),d=e("../Business/Logic/GameNotice"),p=e("./Common/UIUtils"),h=e("./Common/PopupManager"),m=e("../Business/Logic/GameController"),g=e("./Common/PrefabPool"),{ccclass:f,property:y,menu:b}=cc._decorator;let _=class extends cc.Component{constructor(){super(...arguments),this.nowLanguage=r.LangList.en,this.txtBalance=null,this.txtBet=null,this.imgTipsGoodLuck=null,this.imgTipsPlaceBets=null,this.img_diceShow=[],this.imgPlay=null,this.btn_bet=null,this.betChip=null,this.btnPlay=null,this.btnReset=null,this.btnMenu=null,this.btnReturn=null,this.btnRecord=null,this.betAreaMid=null,this.queue_club=null,this.queue_flag=null,this.queue_spades=null,this.queue_diamond=null,this.queue_crown=null,this.queue_heart=null,this.betChipsNode=null,this.tapToStart=null,this.needToShine=!0,this.bettingOrder=[],this.winMap=new Map,this.btnChipList=[],this.btnChipSpList=[],this.diceSpinOK=!1,this.apiResultOK=!1,this.apiDiceResult=[],this.apiAward=0,this.apiBigWin=!1,this.diceSpinSoundId=0,this.diceSpinTw=null}get language(){return this.nowLanguage}set language(e){this.nowLanguage=e,n.LocalLang.setLanguage(r.LangList[e])}onLoad(){n.noticeCenter.registAllNotice(this),n.Utils.resize(),this.initUI(),this.initBetArea(),this.updateBalance(),this.updateSelectChip(),this.tapToStart.active=!0,this.testApi(),this.selectChip(s.default.userData.getSelectChip()),cc.view.setResizeCallback(()=>{n.Utils.resize()}),n.AudioEngine.playMusic(r.SoundList.Bgm,!0)}testApi(){let e=o.default.urlConfig.base+"api/login",t={platform:"jms_01",platform_token:"3345678"};cc.log("ANGO : login params = "+JSON.stringify(t)),n.Http.post(e,t,(e,t)=>{console.log("ANGO : login result = : ",e,JSON.stringify(t))},3)}initUI(){this.btnPlay.node.on(cc.Node.EventType.TOUCH_END,this.onTouchPlay,this),this.btnReset.node.on("click",this.onTouchClear,this),this.btnMenu.node.on("click",this.onTouchMenu,this),this.btnReturn.node.on("click",this.onTouchReturn,this),this.btnRecord.node.on("click",this.onTouchRecord,this),this.betChipsNode.children.forEach(e=>{let t=e.getComponent(cc.Button);this.btnChipList.push(t)}),this.btnChipList.forEach((e,t)=>{let i=e.target.getComponent(cc.Sprite);this.btnChipSpList.push(i),i.spriteFrame=cc.resources.get("Texture/Game/Chips/chip_normal"+t,cc.SpriteFrame)})}initBetArea(){this.clearBetData();for(let e=0;e<7;e++)this.spawnBetArea(this.queue_club,r.SymbolType.Club,e),this.spawnBetArea(this.queue_flag,r.SymbolType.Flag,e),this.spawnBetArea(this.queue_spades,r.SymbolType.Spades,e),this.spawnBetArea(this.queue_diamond,r.SymbolType.Diamond,e),this.spawnBetArea(this.queue_crown,r.SymbolType.Crown,e),this.spawnBetArea(this.queue_heart,r.SymbolType.Heart,e);this.betAreaMid.children.forEach((e,t)=>{let i=e.getComponent(l.default),a=r.SymbolType.Mid+t;i.setBetKey(a),c.BetAreaData.set(a,e.getChildByName("chip_place"))}),this.midBetAreaShining()}spawnBetArea(e,t,i){let a=g.default.get(r.PrefabList.BtnBet);a.setParent(e);let n=t+i;a.getComponent(l.default).setBetKey(n,i),c.BetAreaData.set(n,a)}clearBetData(){s.default.userData.getChipMap().forEach(e=>{g.default.put(e.chipPlace,u.default)}),s.default.userData.getChipMap().clear(),this.updateBalance()}onTouchTest(){this.imgPlay.spriteFrame=cc.resources.get(r.SpriteList.btnPlayDis,cc.SpriteFrame)}onTouchPlay(){if(0==this.btnPlay.interactable?n.AudioEngine.playEffect(r.SoundList.BtnWrong):n.AudioEngine.playEffect(r.SoundList.Click),s.default.gameData.getGameStage()!=r.GameStage.Prepare)return;let e=s.default.userData.getBetSum(),t=s.default.userData.getBalance();if(t<e)return void h.default.show(r.PrefabList.MessageLayer,n.LocalLang.get("game_low_balance_tips"));if(0==e)return void h.default.show(r.PrefabList.MessageLayer,n.LocalLang.get("game_no_bet_tips"));this.diceSpin(),this.imgTipsGoodLuck.active=!0,this.imgTipsPlaceBets.active=!1,console.log("ANGO\u4e0b\u6ce8\u683c :",s.default.userData.getChipMap()),s.default.userData.setBalance(t-e),this.updateBalance();let i=[];s.default.userData.getChipMap().forEach((e,t)=>{let a={};a.key=t,a.value=e.betSum,i.push(a)}),this.winMap.forEach(e=>{let t=e.getComponent(l.default).imgShineFrame;t.stopAllActions(),cc.tween(t).tag(3).to(.5,{opacity:0},{easing:"smooth"}).start()});let a=new m.CmdDiceSpin;a.betAmount=e,a.betInfo=i,n.commandCenter.emit(a),this.updateBtnState(!1)}onTouchClear(){this.clearBetData(),this.winMap.forEach(e=>{let t=e.getComponent(l.default).imgShineFrame;t.stopAllActions(),cc.tween(t).tag(3).to(.5,{opacity:0},{easing:"smooth"}).start()})}onTouchSelectChip(e,t){t!=s.default.userData.getSelectChip()&&this.selectChip(t)}selectChip(e){let t=s.default.userData.getSelectChip();this.btnChipSpList[t].spriteFrame=cc.resources.get("Texture/Game/Chips/chip_normal"+t,cc.SpriteFrame),s.default.userData.setSelectChip(e),this.btnChipSpList[e].spriteFrame=cc.resources.get("Texture/Game/Chips/chip_select"+e,cc.SpriteFrame),this.updateSelectChip()}selectedChipVal(){return s.default.homeData.getChipLst()[s.default.userData.getSelectChip()]}onTouchMenu(){h.default.show(r.PrefabList.MenuLayer)}onTouchRecord(){h.default.show(r.PrefabList.GameRecordLayer)}onTouchReturn(){if(0==this.bettingOrder.length)return;let e=this.bettingOrder.pop(),t=s.default.userData.getChipMap().get(e.betKey),i=t.betSum-e.betAmount;t.chipPlace.getComponent(u.default).setBetSum(i),t.betSum=i,0==t.betSum&&(g.default.put(t.chipPlace,u.default),s.default.userData.getChipMap().delete(e.betKey)),this.updateBalance()}diceSpin(){s.default.gameData.setGameStage(r.GameStage.Spinning),this.diceSpinSoundId=n.AudioEngine.playEffect(r.SoundList.DiceSpin,!0),this.diceSpinTw=cc.tween(this.node),this.diceSpinTw.call(()=>{this.diceShow()}).delay(.05).union().repeatForever().start(),cc.tween(this.node).delay(1.5).call(()=>{this.diceSpinOK=!0,this.diceStop()}).start()}diceStop(){if(!this.diceSpinOK||!this.apiResultOK)return;this.diceSpinTw.stop(),n.AudioEngine.stopEffect(this.diceSpinSoundId);let e=this.apiDiceResult;e=e.sort((e,t)=>e-t);let t="";e.forEach(e=>{t+=e.toString()});let i=Array.from(function(e){return e.match(/(.)\1{0,}/g).sort((e,t)=>t.length-e.length).join("")}(t));this.imgTipsGoodLuck.active=!1,this.imgTipsPlaceBets.active=!1,this.resultJudgment(i.map(Number))}resultJudgment(e){this.winMap.clear(),console.log("ANGO : \u64f2\u9ab0\u7d50\u679c : ",e);let t=n.Utils.maxCountElement(e);this.diceShow(e,t);let i=new Map;for(let n=0;n<6;n++)i.set(r.SymbolTypeNum[n],0);e.forEach(e=>{let t=r.DiceType[e],a=i.get(t);a+=1,i.set(t,a)});let a=[];i.forEach((e,t)=>{a.push(t+e)}),t.forEach(e=>{a.push(r.SymbolType.Mid+e)}),console.log("ANGO : WinArray : ",a),a.forEach(e=>{s.default.userData.getChipMap().has(e)&&(e.includes("Mid")?this.winMap.set(e,c.BetAreaData.get(e).parent):this.winMap.set(e,c.BetAreaData.get(e)))});let o=new r.RecordData;o.time=(new Date).getTime(),o.bet=s.default.userData.getBetSum(),o.win=this.testAwardSum(e),s.default.userData.getGameRecordLst().unshift(o),s.default.gameData.setGameStage(r.GameStage.Finish),this.apiAward>0?(this.winBetAreaShining(),cc.tween(this.node).delay(1).call(()=>{const e={mode:h.default.CacheMode.Frequent};let t={};t.amount=this.apiAward,t.bigWin=this.apiBigWin,h.default.show(r.PrefabList.AwardLayer,t,e)}).start()):this.returnPrepareStage()}diceShow(e,t){for(let i=0;i<6;i++)if(e){let a=t.some(t=>t==e[i]);this.setDiceShow(this.img_diceShow[i],e[i],a)}else{let e=n.Utils.randRange(0,5);this.setDiceShow(this.img_diceShow[i],e)}}setDiceShow(e,t,i){let a="";switch(t){case r.DiceType.Club:a="img_club";break;case r.DiceType.Crown:a="img_crown";break;case r.DiceType.Diamond:a="img_diamond";break;case r.DiceType.Flag:a="img_flag";break;case r.DiceType.Heart:a="img_heart";break;case r.DiceType.Spades:a="img_spades"}let n=i?"Texture/Game/"+a+"_gold":"Texture/Game/BetArea/"+a;e.spriteFrame=cc.resources.get(n,cc.SpriteFrame)}returnPrepareStage(){this.updateBtnState(!0),this.updateSelectChip(),this.diceSpinOK=!1,this.apiResultOK=!1,s.default.gameData.setGameStage(r.GameStage.Prepare)}midBetAreaShining(){this.betAreaMid.children.forEach(e=>{let t=e.getComponent(l.default).imgShineFrame;cc.tween(t).tag(1).to(.5,{opacity:0},{easing:"smooth"}).to(.5,{opacity:255},{easing:"smooth"}).union().repeat(2).to(.5,{opacity:0},{easing:"smooth"}).start()})}extraBetAreaShining(){c.BetAreaData.forEach((e,t)=>{if(!t.includes("Mid")){let t=.5,i=e.getComponent(l.default).imgShineFrame;cc.tween(i).tag(2).to(t,{opacity:255},{easing:"smooth"}).to(t,{opacity:0},{easing:"smooth"}).union().repeat(3).start()}})}winBetAreaShining(){this.winMap.forEach(e=>{let t=e.getComponent(l.default).imgShineFrame;cc.tween(t).tag(3).to(.5,{opacity:255},{easing:"smooth"}).to(.5,{opacity:0},{easing:"smooth"}).union().repeatForever().start()})}updateBtnState(e){this.btnMenu.interactable=e,this.btnReset.interactable=e,this.btnReturn.interactable=e,this.btnPlay.interactable=e}updateBalance(){this.txtBalance.string=p.UIUtils.getShortNumber(s.default.userData.getBalance(),!0),this.txtBet.string=p.UIUtils.getShortNumber(s.default.userData.getBetSum(),!0),0==s.default.userData.getBetSum()&&s.default.gameData.getGameStage()==r.GameStage.Prepare?(this.imgTipsGoodLuck.active=!1,this.imgTipsPlaceBets.active=!0,this.btnReset.interactable=!1,this.btnPlay.interactable=!1,this.btnReturn.interactable=!1,s.default.userData.setMidBet(!1)):s.default.gameData.getGameStage()!=r.GameStage.Prepare?(this.btnReset.interactable=!1,this.btnPlay.interactable=!1,this.btnReturn.interactable=!1):(this.btnReset.interactable=!0,this.btnPlay.interactable=!0,this.btnReturn.interactable=!0)}updateSelectChip(){let e=s.default.homeData.getChipLst(),t=s.default.userData.getSelectChip(),i=s.default.userData.getBalance();i<this.selectedChipVal()&&0!=t&&this.selectChip(t-1),e.forEach((e,t)=>{i<e?(this.btnChipSpList[t].spriteFrame=cc.resources.get("Texture/Game/Chips/chip_dis"+t,cc.SpriteFrame),this.btnChipList[t].interactable=!1):t!=s.default.userData.getSelectChip()&&(this.btnChipSpList[t].spriteFrame=cc.resources.get("Texture/Game/Chips/chip_normal"+t,cc.SpriteFrame),this.btnChipList[t].interactable=!0)})}onPlaceChips(e){let t=s.default.userData.getChipMap();if(t.has(e.betKey)){let i=t.get(e.betKey).betSum,a=s.default.gameData.getPlaceMaxBet(),o=t.get(e.betKey);if(i==a)return void h.default.show(r.PrefabList.MessageLayer,n.LocalLang.get("game_max_bet"));if(i+this.selectedChipVal()>a)o.betSum=a,o.chipPlace.getComponent(u.default).setBetSum(a);else{let e=o.betSum+this.selectedChipVal();o.betSum=e,o.chipPlace.getComponent(u.default).setBetSum(e)}}else{let i=g.default.get(r.PrefabList.BetChip),a=c.BetAreaData.get(e.betKey);i.setParent(a),i.getComponent(u.default).setBetSum(this.selectedChipVal()),e.isMid||(i.scale=.8);let n=new c.BetAreaInfo;n.chipPlace=i,n.betSum=this.selectedChipVal(),t.set(e.betKey,n)}let i=n.AudioEngine.playEffect(r.SoundList.Chip);n.AudioEngine.setAudioVolume(i,2);let a=new c.BettingOrderInfo;a.betKey=e.betKey,a.betAmount=this.selectedChipVal(),this.bettingOrder.push(a),this.updateBalance(),this.needToShine&&(this.extraBetAreaShining(),this.needToShine=!1)}onNtcDiceSpin(e){this.apiResultOK=!0,this.apiDiceResult=e.diceResult,this.apiAward=this.testAwardSum(e.diceResult),this.apiBigWin=n.Utils.randRange(1,100)<50;let t=0;t=this.apiBigWin?s.default.userData.getBalance()+2*this.apiAward:s.default.userData.getBalance()+this.apiAward,s.default.userData.setBalance(t),this.diceStop()}onNtcAwardHide(){n.AudioEngine.setMusicVolume(.5),this.updateBalance(),this.returnPrepareStage(),this.btnReturn.interactable=!1}testAwardSum(e){let t=new Map;for(let n=0;n<6;n++)t.set(r.SymbolTypeNum[n],0);e.forEach(e=>{let i=r.DiceType[e],a=t.get(i);a+=1,t.set(i,a)});let i=n.Utils.maxCountElement(e),a=[];t.forEach((e,t)=>{a.push(t+e)}),i.forEach(e=>{a.push(r.SymbolType.Mid+e)});let o=0;return a.forEach(e=>{if(s.default.userData.getChipMap().has(e)){let t=0;if(e.includes("Mid"))t=r.Odds[7];else{let i=e.slice(-1);t=r.Odds[i]}let i=s.default.userData.getChipMap().get(e).betSum*t;o+=i}}),o}};a([y({visible:!1})],_.prototype,"nowLanguage",void 0),a([y({type:cc.Enum(r.LangList),displayName:"\u8bed\u8a00"})],_.prototype,"language",null),a([y(cc.Label)],_.prototype,"txtBalance",void 0),a([y(cc.Label)],_.prototype,"txtBet",void 0),a([y(cc.Node)],_.prototype,"imgTipsGoodLuck",void 0),a([y(cc.Node)],_.prototype,"imgTipsPlaceBets",void 0),a([y([cc.Sprite])],_.prototype,"img_diceShow",void 0),a([y(cc.Sprite)],_.prototype,"imgPlay",void 0),a([y(cc.Prefab)],_.prototype,"btn_bet",void 0),a([y(cc.Prefab)],_.prototype,"betChip",void 0),a([y(cc.Button)],_.prototype,"btnPlay",void 0),a([y(cc.Button)],_.prototype,"btnReset",void 0),a([y(cc.Button)],_.prototype,"btnMenu",void 0),a([y(cc.Button)],_.prototype,"btnReturn",void 0),a([y(cc.Button)],_.prototype,"btnRecord",void 0),a([y(cc.Node)],_.prototype,"betAreaMid",void 0),a([y(cc.Node)],_.prototype,"queue_club",void 0),a([y(cc.Node)],_.prototype,"queue_flag",void 0),a([y(cc.Node)],_.prototype,"queue_spades",void 0),a([y(cc.Node)],_.prototype,"queue_diamond",void 0),a([y(cc.Node)],_.prototype,"queue_crown",void 0),a([y(cc.Node)],_.prototype,"queue_heart",void 0),a([y(cc.Node)],_.prototype,"betChipsNode",void 0),a([y(cc.Node)],_.prototype,"tapToStart",void 0),a([n.onNotice(d.NtcPlaceChips)],_.prototype,"onPlaceChips",null),a([n.onNotice(d.NtcDiceSpin)],_.prototype,"onNtcDiceSpin",null),a([n.onNotice(d.NtcAwardHide)],_.prototype,"onNtcAwardHide",null),_=a([f],_),i.default=_,cc._RF.pop()},{"../Business/Data/BetData":"BetData","../Business/Data/CommonDefine":"CommonDefine","../Business/Data/ConfigManager":"ConfigManager","../Business/Data/DataManager":"DataManager","../Business/Logic/GameController":"GameController","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./BetCell":"BetCell","./BetChip":"BetChip","./Common/PopupManager":"PopupManager","./Common/PrefabPool":"PrefabPool","./Common/UIUtils":"UIUtils"}],GradientColor:[function(e,t,i){"use strict";cc._RF.push(t,"926bagTp+JG/5Bxdn0uOLz4","GradientColor");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:s,requireComponent:o,disallowMultiple:r,executeInEditMode:c,help:l,menu:u}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this._colors=[cc.Color.RED,cc.Color.BLUE,cc.Color.RED,cc.Color.BLUE]}get colors(){return this._colors}set colors(e){e.length>4&&(e.length=4),this._colors=e,this.markForRender()}onEnable(){this.replaceFunction()}onDisable(){this.restoreFunction()}resetInEditor(){this.markForRender()}replaceFunction(){const e=this.getComponent(cc.RenderComponent);if(!e)return;const t=e._assembler;t instanceof cc.Assembler2D&&(t.updateColor=()=>{const e=t._renderData.uintVDatas[0];if(!e)return;const i=t.floatsPerVert,a=t.colorOffset,n=this.node.color;let s=0;for(let t=a,o=e.length;t<o;t+=i)e[t]=(this.colors[s++]||n)._val},this.markForRender())}restoreFunction(){const e=this.getComponent(cc.RenderComponent);if(!e)return;const t=e._assembler;t instanceof cc.Assembler2D&&(t.updateColor=cc.Assembler2D.prototype.updateColor,this.markForRender())}markForRender(){this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR}};a([s()],d.prototype,"_colors",void 0),a([s({type:[cc.Color],tooltip:!1})],d.prototype,"colors",null),d=a([n,o(cc.RenderComponent),r,c,l("https://gitee.com/ifaswind/eazax-ccc/blob/master/components/renderers/GradientColor.ts"),u("eazax/\u6e32\u67d3\u7ec4\u4ef6/GradientColor")],d),i.default=d,cc._RF.pop()},{}],HeartBeatHandler:[function(e,t,i){"use strict";cc._RF.push(t,"cbbe6PK4uNJaqhiv8nPLltL","HeartBeatHandler"),Object.defineProperty(i,"__esModule",{value:!0}),i.HeartBeatHandler=void 0,i.HeartBeatHandler=class{constructor(){this.m_idle=10,this.m_maxMissCount=2,this.m_idleCallBack=null,this.m_timeOutCallBack=null,this.m_missCallBack=null,this.m_logName="",this.m_curMissCount=0,this.m_lastTickTime=-1,this.m_curIdle=-1,cc.director.getScheduler().enableForTarget(this)}set idle(e){this.m_idle=e}set maxMissCount(e){this.m_maxMissCount=e}set idleCallBack(e){this.m_idleCallBack=e}set timeOutCallBack(e){this.m_timeOutCallBack=e}set missCallBack(e){this.m_missCallBack=e}set logName(e){this.m_logName=e}startIdle(){this.clearState();let e=(new Date).getTime();this.m_lastTickTime=e,cc.director.getScheduler().unscheduleAllForTarget(this),cc.director.getScheduler().schedule(this.onIdleTime,this,1),cc.log(this.m_logName+" start idle.")}stopIdle(){this.m_curMissCount=0,this.m_lastTickTime=-1,cc.director.getScheduler().unscheduleAllForTarget(this),cc.log(this.m_logName+" stop idle.")}onReceiveHeartBeat(){this.clearState()}clearState(){this.m_curMissCount=0,this.m_curIdle=this.m_idle}sendIdle(){this.m_curMissCount++,2==this.m_curMissCount&&(cc.log(this.m_logName+" miss heart beat."),null!=this.m_missCallBack&&this.m_missCallBack()),this.m_maxMissCount>0&&this.m_curMissCount>this.m_maxMissCount?this.onHeartBeatTimeOut():null!=this.m_idleCallBack&&this.m_idleCallBack()}onIdleTime(e){let t=(new Date).getTime();this.m_lastTickTime>0&&(e=(t-this.m_lastTickTime)/1e3),this.m_lastTickTime=t,e>this.m_idle*this.m_maxMissCount?this.onHeartBeatTimeOut():(this.m_curIdle-=e,this.m_curIdle<=0&&(this.m_curIdle=this.m_idle,this.sendIdle()))}onHeartBeatTimeOut(){cc.log(this.m_logName+" heart beat time out."),this.stopIdle(),null!=this.m_timeOutCallBack&&this.m_timeOutCallBack()}},cc._RF.pop()},{}],HomeData:[function(e,t,i){"use strict";cc._RF.push(t,"43833cz8yRD7r9Zq0qV9kBo","HomeData"),Object.defineProperty(i,"__esModule",{value:!0}),i.HomeData=i.MaintainData=void 0,i.MaintainData=class{constructor(){this.m_start=0,this.m_end=0,this.m_content=new Map,this.m_hasData=!1}isNearTime(){return this.m_hasData}isMaintainTime(){var e=(new Date).getTime();return e>this.m_start&&e<this.m_end}},i.HomeData=class{constructor(){this.m_chipsUnit=1,this.m_chipLst=[],this.m_gameId=""}getChipsUnit(){return this.m_chipsUnit}setChipsUnit(e){this.m_chipsUnit=e}getChipLst(){return this.m_chipLst}setChipLst(e){this.m_chipLst=e}getGameId(){return this.m_gameId}setGameId(e){this.m_gameId=e}},cc._RF.pop()},{}],HttpUtils:[function(e,t,i){"use strict";cc._RF.push(t,"6dcb9C9N2ZAg5+91n23jf2N","HttpUtils"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../MobileKit/MKIndex");i.default=class{static generateSign(e){var t=[];for(var i in e)t.push(i);t.sort();for(var n="",s=0;s<t.length;++s){let i=t[s];n+=i+e[i]}return n+="ddgame",a.CryptoUtils.md5(n)}},cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],LanguageLayer:[function(e,t,i){"use strict";cc._RF.push(t,"de8164TwFRB+LdFXf1H7BpI","LanguageLayer");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("./Common/PopupBase"),{ccclass:o,property:r,menu:c}=cc._decorator;let l=class extends s.default{constructor(){super(...arguments),this.langBtnArr=[],this.animationDuration=0,this.langIdx=0}static get path(){return"Scenes/Game/language_layer"}onLoad(){this.main||(this.main=this.node),n.noticeCenter.registAllNotice(this),this.langArr=["en","hi"];let e=n.LocalLang.getLanguage(),t=this.langArr.indexOf(e);t>=0&&(this.langBtnArr[t].check(),this.langIdx=t)}onTouchClose(){this.hide()}onTouchLang(e,t){this.langIdx=Number(t)}onTouchConfirm(){n.LocalLang.setLanguage(this.langArr[this.langIdx]),this.hide()}};a([r([cc.Toggle])],l.prototype,"langBtnArr",void 0),l=a([o],l),i.default=l,cc._RF.pop()},{"../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase"}],LoadingConfig:[function(e,t,i){"use strict";cc._RF.push(t,"ce28cPR/G1B07ofLePg+SKH","LoadingConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.SpriteFrameResLst=i.LoadingResLst=void 0,i.LoadingResLst=new Map,i.SpriteFrameResLst=new Map,i.LoadingResLst.set("Sound/bgm_hall",cc.AudioClip),i.LoadingResLst.set("Sound/click",cc.AudioClip),i.LoadingResLst.set("Sound/win",cc.AudioClip),i.LoadingResLst.set("Sound/big_winner",cc.AudioClip),i.LoadingResLst.set("Sound/dice_spin",cc.AudioClip),i.LoadingResLst.set("Sound/chip",cc.AudioClip),i.LoadingResLst.set("Sound/btn_wrong",cc.AudioClip),i.LoadingResLst.set("Scenes/Game/betChip",cc.Prefab),i.LoadingResLst.set("Scenes/Game/btn_bet",cc.Prefab),i.LoadingResLst.set("Scenes/Game/RecordCell",cc.Prefab),i.LoadingResLst.set("Scenes/Game/RecordPage",cc.Prefab),i.LoadingResLst.set("Scenes/Game/menu_layer",cc.Prefab),i.LoadingResLst.set("Scenes/Game/award_layer",cc.Prefab),i.SpriteFrameResLst.set("Texture/Game/Button/img_play",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Button/img_play_dis",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Button/img_play_press",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/BetArea/img_club",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/BetArea/img_diamond",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/BetArea/img_flag",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/BetArea/img_crown",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/BetArea/img_heart",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/BetArea/img_spades",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/img_club_gold",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/img_diamond_gold",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/img_flag_gold",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/img_crown_gold",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/img_heart_gold",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/img_spades_gold",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_dis0",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal0",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_select0",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_no_word0",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_dis1",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal1",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_select1",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_no_word1",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_dis2",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal2",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_select2",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_no_word2",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_dis3",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal3",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_select3",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_no_word3",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_dis4",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal4",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_select4",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_no_word4",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_dis5",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal5",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_select5",cc.SpriteFrame),i.SpriteFrameResLst.set("Texture/Game/Chips/chip_no_word5",cc.SpriteFrame),cc._RF.pop()},{}],LoadingScene:[function(e,t,i){"use strict";cc._RF.push(t,"b3227XK/V5PI5kdwcCTTjvS","LoadingScene");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("../Business/Data/DataManager"),o=e("../Business/Data/ConfigManager"),r=e("../Business/Data/CommonDefine"),c=e("../Business/Logic/SceneController"),l=e("./LoadingConfig"),u=e("../Business/Logic/GameController"),d=e("../Business/Data/SaveDataManager"),p=e("../Business/NetWork/NetworkController"),h=e("../Business/NetWork/NetworkNotice"),{ccclass:m,property:g,menu:f}=cc._decorator;let y=class extends cc.Component{constructor(){super(...arguments),this.urlConfig=null,this.appInfo=null,this.imgLoading=null,this.loadResOK=!1,this.loadSpriteFrameOK=!1}onLoad(){n.noticeCenter.registAllNotice(this),cc.tween(this.imgLoading.node).by(4,{angle:360}).repeatForever().start(),this.initApp()}initApp(){n.commandCenter.addController(new c.SceneController),n.commandCenter.addController(new u.GameController),n.commandCenter.addController(new p.NetworkController),s.default.init(),d.default.init(),n.AudioEngine.setEffectsEnabled(d.default.getEffectEnable()),n.AudioEngine.setMusicEnabled(d.default.getMusicEnable()),n.AudioEngine.setEffectsVolume(.5),n.AudioEngine.setMusicVolume(.5),n.LocalLang.setLanguage("en"),this.initTestData(),o.default.setUrlConfig(this.urlConfig.json),o.default.setAppInfo(this.appInfo.json),this.loadRes()}initTestData(){s.default.userData.setUid(5566),s.default.userData.setBalance(5e6),s.default.homeData.setChipLst([500,1e3,5e3,1e4,5e4,1e5]),s.default.homeData.setChipsUnit(100),s.default.gameData.setPlaceMaxBet(1e5),s.default.userData.setGameRecordLst([{win:0,bet:566603,time:1659672199036},{win:1897,bet:221416,time:1659852686870},{win:176005,bet:416371,time:1659363891840},{win:544272,bet:569721,time:1659559310519},{win:593906,bet:789474,time:1660162894629},{win:406983,bet:290266,time:1659553172714},{win:0,bet:134404,time:1659403357422},{win:187926,bet:360880,time:1659684597626},{win:14710,bet:725928,time:1660381525602},{win:423655,bet:145350,time:1660518134646},{win:558296,bet:350530,time:1659345763719},{win:0,bet:227406,time:1660263917216},{win:275606,bet:612233,time:1659709237201},{win:684479,bet:746349,time:1659827812020},{win:368217,bet:778583,time:1660048317342},{win:113525,bet:202821,time:1659844628972},{win:646745,bet:226302,time:1660158796549},{win:0,bet:479907,time:1659480873909},{win:432833,bet:101981,time:1659388461986},{win:0,bet:223385,time:1659531443999},{win:636499,bet:644389,time:1660310376014},{win:28035,bet:648762,time:1659921103913},{win:405152,bet:566772,time:1660376263406},{win:696079,bet:173395,time:1659444381973},{win:592150,bet:115498,time:1660493444415},{win:797304,bet:24235,time:1660433641746},{win:256483,bet:163957,time:1659984157476},{win:206789,bet:173698,time:1660425179680},{win:667544,bet:660938,time:1659591496568},{win:486550,bet:511442,time:1659514603193},{win:0,bet:61695,time:1659774572989},{win:621616,bet:334716,time:1659617790438},{win:276723,bet:793519,time:1660189704346},{win:94920,bet:316114,time:1660319055933},{win:454318,bet:793221,time:1659755537530},{win:255498,bet:329832,time:1660086884451},{win:0,bet:387451,time:1659481840406},{win:570174,bet:754778,time:1659635852230},{win:780508,bet:126502,time:1659969237539},{win:725625,bet:462468,time:1660343355002},{win:7989,bet:111839,time:1659635709301},{win:182955,bet:620751,time:1659468757576},{win:491297,bet:404124,time:1659619332654},{win:136917,bet:326556,time:1659654314917},{win:776349,bet:152143,time:1659746698181},{win:509581,bet:73437,time:1659648569790},{win:296753,bet:408828,time:1659370542793}])}loadRes(){cc.resources.load(Array.from(l.LoadingResLst.keys()),null,this.onLoadProgress.bind(this),this.onLoadResComplete.bind(this)),cc.resources.load(Array.from(l.SpriteFrameResLst.keys()),cc.SpriteFrame,this.onLoadProgress.bind(this),this.onLoadSpriteFrameComplete.bind(this))}onLoadProgress(){}onLoadResComplete(){this.loadResOK=!0,this.gotoNextScene()}onLoadSpriteFrameComplete(){this.loadSpriteFrameOK=!0,this.gotoNextScene()}gotoNextScene(){this.loadResOK&&this.loadSpriteFrameOK&&n.commandCenter.emit(new c.CmdScene(r.SceneType.Game))}onNtcLogin(e){0==e.result?this.gotoNextScene():1==e.result||2==e.result||e.result}};a([g(cc.JsonAsset)],y.prototype,"urlConfig",void 0),a([g(cc.JsonAsset)],y.prototype,"appInfo",void 0),a([g(cc.Sprite)],y.prototype,"imgLoading",void 0),a([n.onNotice(h.NtcLogin)],y.prototype,"onNtcLogin",null),y=a([m],y),i.default=y,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/ConfigManager":"ConfigManager","../Business/Data/DataManager":"DataManager","../Business/Data/SaveDataManager":"SaveDataManager","../Business/Logic/GameController":"GameController","../Business/Logic/SceneController":"SceneController","../Business/NetWork/NetworkController":"NetworkController","../Business/NetWork/NetworkNotice":"NetworkNotice","../MobileKit/MKIndex":"MKIndex","./LoadingConfig":"LoadingConfig"}],MKActionQueue:[function(e,t,i){"use strict";cc._RF.push(t,"7733b8JdpNIHYxZ1k+2nx9N","MKActionQueue"),Object.defineProperty(i,"__esModule",{value:!0}),i.ActionQueue=void 0,i.ActionQueue=class{constructor(){this.m_actionQueue=null,this.m_delay=0,this.m_actionQueue=[],cc.director.getScheduler().enableForTarget(this),cc.director.getScheduler().scheduleUpdate(this,0,!1)}postAction(e,t){this.m_actionQueue.push({func:e,param:t})}setDelayTime(e){e<cc.macro.FLT_EPSILON||this.m_delay<e&&(this.m_delay=e)}clear(){this.clearDelayTime(),this.removeAllAction()}clearDelayTime(){this.m_delay=0}removeAllAction(){this.m_actionQueue.length=0}update(e){if(this.m_delay>0&&(this.m_delay-=e),this.m_actionQueue.length>0&&this.m_delay<cc.macro.FLT_EPSILON){var t=this.m_actionQueue.shift();t.func(t.param)}}onExit(){this.clear(),cc.director.getScheduler().unscheduleAllForTarget(this)}},cc._RF.pop()},{}],MKAudioEngine:[function(e,t,i){"use strict";cc._RF.push(t,"1950dWg/apGgKPh5p5a+7i+","MKAudioEngine"),Object.defineProperty(i,"__esModule",{value:!0}),i.AudioEngine=void 0;let a=!1,n=!1,s=null,o=!1;class r{static playEffect(e,t=!1){if(a){if(e instanceof cc.AudioClip)return cc.audioEngine.playEffect(e,t);{let i=cc.resources.get(e);if(null!=i)return cc.audioEngine.playEffect(i,t)}}return 0}static stopEffect(e){e>0&&cc.audioEngine.stopEffect(e)}static playMusic(e,t=!1){if(e instanceof cc.AudioClip)s=e;else{let t=cc.resources.get(e);null!=t&&(s=t)}o=t,n&&cc.audioEngine.playMusic(s,o)}static stopMusic(){s=null,cc.audioEngine.stopMusic()}static setEffectsVolume(e){cc.audioEngine.setEffectsVolume(e)}static setMusicVolume(e){cc.audioEngine.setMusicVolume(e)}static setAudioVolume(e,t){cc.audioEngine.setVolume(e,t)}static setEffectsEnabled(e){a=e,e||cc.audioEngine.stopAllEffects()}static setMusicEnabled(e){n=e,e?null!=s&&cc.audioEngine.playMusic(s,o):cc.audioEngine.stopMusic()}static setMute(e){r.setEffectsEnabled(!e),r.setMusicEnabled(!e)}static isMute(){return n&&a}static isMusicPlaying(){return cc.audioEngine.isMusicPlaying()}static pauseMusic(){cc.audioEngine.pauseMusic()}}i.AudioEngine=r,cc._RF.pop()},{}],MKCommandCenter:[function(e,t,i){"use strict";cc._RF.push(t,"36eecgRfGBIvrNItfzw/c9j","MKCommandCenter"),Object.defineProperty(i,"__esModule",{value:!0}),i.onCommand=i.commandCenter=i.CommandCenter=i.Controller=i.createCommand=void 0;let a=0;i.createCommand=function(e){e.Type="Command"+a++,e.prototype.getType=function(){return e.Type}},i.Controller=class{constructor(){this.name=""}setName(e){this.name=e}getName(){return this.name}onExit(){}};class n{constructor(){this.m_controllers=new Map,this.m_eventTarget=new cc.EventTarget}addController(e){var t=e.getName();this.m_controllers.get(t)?(cc.log("MKCommandCenter warning, controller already exist"),e.onExit()):this.m_controllers.set(t,e)}removeController(e){var t=this.m_controllers.get(e);t&&(t.onExit(),this.targetOff(t),this.m_controllers.delete(e))}hasController(e){return this.m_controllers.get(e)}on(e,t,i){this.m_eventTarget.on(e.Type,t,i)}off(e,t,i){this.m_eventTarget.off(e.Type,t,i)}registAllCommand(e){if(e.commandList)for(let t of e.commandList)this.on(t.command,e[t.methodName],e)}targetOff(e){this.m_eventTarget.targetOff(e)}emit(e){this.m_eventTarget.hasEventListener(e.getType())?this.m_eventTarget.emit(e.getType(),e):cc.log("MKCommandCenter err : no command handler, command type = "+e.getType())}}i.CommandCenter=n,i.commandCenter=new n,i.onCommand=function(e){return function(t,i){t.commandList||(t.commandList=[]),t.commandList.push({command:e,methodName:i})}},cc._RF.pop()},{}],MKCryptoUtils:[function(e,t,i){"use strict";cc._RF.push(t,"1ff71vS4J1NA7ytlCGJPgtt","MKCryptoUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.CryptoUtils=void 0,i.CryptoUtils=class{static md5(e){return CryptoJS.MD5(e).toString()}static base64Encode(e){var t=CryptoJS.enc.Utf8.parse(e);return CryptoJS.enc.Base64.stringify(t)}static base64Decode(e){return CryptoJS.enc.Base64.parse(e).toString(CryptoJS.enc.Utf8)}},cc._RF.pop()},{}],MKHttp:[function(e,t,i){"use strict";cc._RF.push(t,"0073dUDVQRAsofk0kRCNO0I","MKHttp"),Object.defineProperty(i,"__esModule",{value:!0}),i.Http=void 0;class a{static formatParams(e){let t="",i=!1;for(let a in e)i?t+="&":i=!0,t+=a+"="+e[a];return t}static get(e,t,i,n=a.ContentType.Form){let s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&s.status<400){let a={};if(""!=s.responseText)try{a=JSON.parse(s.responseText)}catch(t){cc.log("http get result parse failed! url = %s",e)}i(!0,a)}else cc.log("http get error! code = %s, url = %s",s.status,e),i(!1,null)},s.onerror=function(){cc.log("http get error! url = %s",e),i(!1,null)},s.ontimeout=function(){cc.log("http get timeout! url = %s",e),i(!1,null)},n==a.ContentType.Json?(s.open("GET",e,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),s.send(t?JSON.stringify(t):null)):n==a.ContentType.Form?(t&&(e+="?"+a.formatParams(t)),s.open("GET",e,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send()):n==a.ContentType.Multipart&&(s.open("GET",e,!0),s.setRequestHeader("Content-Type","multipart/form-data"),s.send())}static post(e,t,i,n=a.ContentType.Form){let s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&s.status<400){let a={};if(""!=s.responseText)try{a=JSON.parse(s.responseText)}catch(t){cc.log("http post result parse failed! url = %s",e)}i(!0,a)}else cc.log("http post error! code = %s, url = %s",s.status,e),i(!1,null)},s.onerror=function(){cc.log("http post error! url = %s",e),i(!1,null)},s.ontimeout=function(){cc.log("http post timeout! url = %s",e),i(!1,null)},s.open("POST",e,!0),n==a.ContentType.Json?(s.setRequestHeader("Content-Type","application/json; charset=utf-8"),s.send(t?JSON.stringify(t):null)):(s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(t?a.formatParams(t):null))}static delete(e,t,i,n=a.ContentType.Form){let s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&s.status<400){let a={};if(""!=s.responseText)try{a=JSON.parse(s.responseText)}catch(t){cc.log("http delete result parse failed! url = %s",e)}i(!0,a)}else cc.log("http delete error! code = %s, url = %s",s.status,e),i(!1,null)},s.onerror=function(){cc.log("http delete error! url = %s",e),i(!1,null)},s.ontimeout=function(){cc.log("http delete timeout! url = %s",e),i(!1,null)},n==a.ContentType.Json?(s.open("DELETE",e,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),s.send(t?JSON.stringify(t):null)):(t&&(e+="?"+a.formatParams(t)),s.open("DELETE",e,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send())}static postWithAuth(e,t,i,n){let s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&s.status<400){let a={};if(""!=s.responseText)try{a=JSON.parse(s.responseText)}catch(t){cc.log("http post result parse failed! url = %s",e)}i(!0,a)}else cc.log("http post error! code = %s, url = %s",s.status,e),i(!1,null)},s.onerror=function(){cc.log("http post error! url = %s",e),i(!1,null)},s.ontimeout=function(){cc.log("http post timeout! url = %s",e),i(!1,null)},s.open("POST",e,!0),s.setRequestHeader("Authorization","Bearer "+n),s.setRequestHeader("Content-Type","multipart/form-data"),s.send(t?a.formatParams(t):null)}static getWithAuth(e,t,i,a){let n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<400){let a={};if(""!=n.responseText)try{a=JSON.parse(n.responseText)}catch(t){cc.log("http get result parse failed! url = %s",e)}i(!0,a)}else cc.log("http get error! code = %s, url = %s",n.status,e),i(!1,null)},n.onerror=function(){cc.log("http get error! url = %s",e),i(!1,null)},n.ontimeout=function(){cc.log("http get timeout! url = %s",e),i(!1,null)},n.open("GET",e,!0),n.setRequestHeader("Authorization","Bearer "+a),n.setRequestHeader("Content-Type","multipart/form-data"),n.send()}}i.Http=a,a.ContentType={Form:1,Json:2,Multipart:3},cc._RF.pop()},{}],MKImageDownloader:[function(e,t,i){"use strict";cc._RF.push(t,"4919aB9yv1POaDSwtAZW/Qh","MKImageDownloader"),Object.defineProperty(i,"__esModule",{value:!0}),i.imageDowloader=i.ImageDownloader=void 0;const a=e("./MKCryptoUtils");class n{constructor(){this.m_observers=null,this.m_observers=[]}loadUrl(e,t){for(var i=!1,a=0,n=this.m_observers.length;a<n;++a){var s=this.m_observers[a];if(e==s.url){s.callback.push(t),i=!0;break}}i||(this.m_observers.push({url:e,callback:[t]}),this.downloadImage(e))}onDownloadImage(e,t){for(var i=this.m_observers.length-1;i>=0;--i){var a=this.m_observers[i];if(e==a.url){for(var n=a.callback,s=0;s<n.length;++s)n[s](e,t);this.m_observers.splice(i,1);break}}}downloadImage(e){var t=jsb.fileUtils.getWritablePath()+"net_image/",i=t+a.CryptoUtils.md5(e)+".jpg";if(jsb.fileUtils.isFileExist(i))this.onDownloadImage(e,i);else{jsb.fileUtils.isDirectoryExist(t)||jsb.fileUtils.createDirectory(t);var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status?this.saveFile(e,i,n.response):cc.log("Remote download file failed."))}.bind(this),n.responseType="arraybuffer",n.open("GET",e,!0),n.send()}}saveFile(e,t,i){jsb.fileUtils.writeDataToFile(new Uint8Array(i),t)?this.onDownloadImage(e,t):cc.log("Remote write file failed.")}clearCache(){var e=jsb.fileUtils.getWritablePath()+"net_image/";jsb.fileUtils.listFiles(e).length>100&&jsb.fileUtils.removeDirectory(e)}}i.ImageDownloader=n,i.imageDowloader=new n,cc._RF.pop()},{"./MKCryptoUtils":"MKCryptoUtils"}],MKIndex:[function(e,t,i){"use strict";cc._RF.push(t,"0f526BZPmpBr7wVUh62Ltxm","MKIndex");var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||a(t,e,i)};Object.defineProperty(i,"__esModule",{value:!0}),n(e("./Common/MKCryptoUtils"),i),n(e("./Common/MKLocalLang"),i),n(e("./Common/MKSystem"),i),n(e("./Common/MKUtils"),i),n(e("./Common/MKImageDownloader"),i),n(e("./Common/MKAudioEngine"),i),n(e("./Common/HeartBeatHandler"),i),n(e("./Event/MKCommandCenter"),i),n(e("./Event/MKNoticeCenter"),i),n(e("./Event/MKActionQueue"),i),n(e("./Network/MKHttp"),i),n(e("./Network/MKSocket"),i),cc._RF.pop()},{"./Common/HeartBeatHandler":"HeartBeatHandler","./Common/MKAudioEngine":"MKAudioEngine","./Common/MKCryptoUtils":"MKCryptoUtils","./Common/MKImageDownloader":"MKImageDownloader","./Common/MKLocalLang":"MKLocalLang","./Common/MKSystem":"MKSystem","./Common/MKUtils":"MKUtils","./Event/MKActionQueue":"MKActionQueue","./Event/MKCommandCenter":"MKCommandCenter","./Event/MKNoticeCenter":"MKNoticeCenter","./Network/MKHttp":"MKHttp","./Network/MKSocket":"MKSocket"}],MKLocalLang:[function(e,t,i){"use strict";cc._RF.push(t,"26623qYW/1OJ7PqJm16Um6d","MKLocalLang"),Object.defineProperty(i,"__esModule",{value:!0}),i.LocalLang=void 0;class a{static checkInit(){this.language||this.setLanguage("en")}static setLanguage(e){this.language!==e&&(this.language=e,this.reloadLabel(),this.reloadSprite())}static getLanguage(){return this.language}static _addOrDelLabel(e,t){if(t)this.labelArr.push(e);else{let t=this.labelArr.indexOf(e);-1!==t&&this.labelArr.splice(t,1)}}static get(e,t){if(this.checkInit(),null==t||0===t.length)return this.labelData[e]||e;let i=this.labelData[e]||e;for(let a=0;a<t.length;a++){let e=new RegExp("#"+a,"g");i=i.replace(e,t[a])}return i}static _addOrDelSprite(e,t){if(t)this.spriteArr.push(e);else{let t=this.spriteArr.indexOf(e);-1!==t&&this.spriteArr.splice(t,1)}}static _getSprite(e,t){this.checkInit(),cc.resources.load("i18n/sprite/"+this.language+"/"+e,cc.SpriteFrame,(e,i)=>{if(e)return t(null);t(i)})}static reloadLabel(){let e="i18n/label/"+this.language;cc.resources.load(e,(e,t)=>{e?(console.error(e),this.labelData={}):this.labelData=t.json;for(let i of this.labelArr)i._resetValue()})}static reloadSprite(){for(let e of this.spriteArr)e._resetValue()}}i.LocalLang=a,a.language="",a.labelArr=[],a.labelData={},a.spriteArr=[],cc._RF.pop()},{}],MKNoticeCenter:[function(e,t,i){"use strict";cc._RF.push(t,"79a78Glip9HQ5SpEWfy23e+","MKNoticeCenter"),Object.defineProperty(i,"__esModule",{value:!0}),i.onNotice=i.noticeCenter=i.NoticeCenter=i.createNotice=void 0;let a=0;i.createNotice=function(e){e.Type="Notice"+a++,e.prototype.getType=function(){return e.Type}};class n{constructor(){this.m_eventTarget=new cc.EventTarget}on(e,t,i){this.m_eventTarget.on(e.Type,t,i)}off(e,t,i){this.m_eventTarget.off(e.Type,t,i)}registAllNotice(e){if(e.noticeList)for(let t of e.noticeList)this.on(t.notice,e[t.methodName],e)}targetOff(e){this.m_eventTarget.targetOff(e)}emit(e){this.m_eventTarget.emit(e.getType(),e)}}i.NoticeCenter=n,i.noticeCenter=new n,i.onNotice=function(e){return function(t,i){t.noticeList||(t.noticeList=[]),t.noticeList.push({notice:e,methodName:i})}},cc._RF.pop()},{}],MKSocket:[function(e,t,i){"use strict";cc._RF.push(t,"9629bn3i9BIyKAXnP94lWgi","MKSocket"),Object.defineProperty(i,"__esModule",{value:!0}),i.onMsg=i.Socket=void 0;class a{constructor(){this.m_socket=null,this.m_eventTarget=new cc.EventTarget,this.m_connected=!1}connect(e){}disconnect(){this.m_connected=!1}isConnected(){return this.m_socket&&this.m_connected}send(e,t){}on(e,t,i){this.m_eventTarget.on(e.toString(),t,i)}off(e,t,i){this.m_eventTarget.off(e.toString(),t,i)}registAllMsg(e){if(e.msgList)for(let t of e.msgList)this.on(t.msgID,e[t.methodName],e)}targetOff(e){this.m_eventTarget.targetOff(e)}onConnect(e){this.m_connected=!0,this.m_eventTarget.emit(a.Connect,this,e)}onMessage(e){this.m_eventTarget.emit(a.Message,this,e),this.m_eventTarget.hasEventListener(e.msgID)?this.m_eventTarget.emit(e.msgID,e):cc.log("MKSocket err : no socket message handler, messageID = "+e.msgID)}onError(e){this.m_eventTarget.emit(a.Error,this,e),this.disconnect(),this.m_connected=!1}onClose(e){this.m_eventTarget.emit(a.Close,this,e),this.disconnect(),this.m_connected=!1}}i.Socket=a,a.Connect="Connect",a.Close="Close",a.Error="Error",a.Message="Message",i.onMsg=function(e){return function(t,i){t.msgList||(t.msgList=[]),t.msgList.push({msgID:e,methodName:i})}},cc._RF.pop()},{}],MKSystem:[function(e,t,i){"use strict";cc._RF.push(t,"a872ajJ9cJIZJgRz4rujdNB","MKSystem"),Object.defineProperty(i,"__esModule",{value:!0}),i.system=i.System=void 0;class a{constructor(){}getVersion(){return""}getVersionCode(){return 1}getPackageName(){return""}getMetaData(e){return""}getDeviceID(){return""}getLocation(){return""}getChannelID(){return""}copyStrToClipboard(e){}getFileMD5(e){return""}getPlatform(){return cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?cc.sys.OS_ANDROID:cc.sys.os==cc.sys.OS_IOS?cc.sys.OS_IOS:"Web":"Web"}getWakeUpData(){return""}shareText(e,t){}shareInWhatsApp(e){}}i.System=a;class n extends a{constructor(){super()}getVersion(){return"1.0.0"}getVersionCode(){return 1}getPackageName(){return"com.kbsgame.teenpatti"}getDeviceModel(){return""}getSystemVersion(){return""}getMetaData(e){return""}getLocation(){return""}getDeviceID(){return this.genMacFack()}getChannelID(){return"KBS"}genMacFack(){var e=cc.sys.localStorage.getItem("macFack");if(e)return e;e="";for(var t=0;t<6;t++){for(var i="",a=0;a<2;a++)i+="0123456789abcdef"[Math.ceil(15*Math.random())];e+=e?":"+i:i}return cc.sys.localStorage.setItem("macFack",e),e}}let s=null;s=cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?new class extends a{constructor(){super(),this.version="",this.versionCode=1,this.packageName="",this.channelID="",this.version=jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getVersion","()Ljava/lang/String;"),this.packageName=jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getPackageName","()Ljava/lang/String;"),this.channelID=this.getMetaData("APP_CHANNEL");try{this.versionCode=jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getVersionCode","()J")}catch(e){}}getVersion(){return this.version}getVersionCode(){return this.versionCode}getPackageName(){return this.packageName}getDeviceModel(){return jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getDeviceModel","()Ljava/lang/String;")}getSystemVersion(){return jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getSystemVersion","()Ljava/lang/String;")}getMetaData(e){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getMetaData","(Ljava/lang/String;)Ljava/lang/String;",e)}getDeviceID(){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getDeviceID","()Ljava/lang/String;")}getLocation(){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getLocation","()Ljava/lang/String;")}getChannelID(){return this.channelID}copyStrToClipboard(e){jsb.reflection.callStaticMethod("com/mk/common/MKSystem","copyStrToClipboard","(Ljava/lang/String;)V",e)}getFileMD5(e){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getFileMD5","(Ljava/lang/String;)Ljava/lang/String;",e)}getWakeUpData(){return this.getVersionCode()<43?"":jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getWakeUpData","()Ljava/lang/String;")}shareText(e,t){if(!(this.getVersionCode()<50))return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","shareText","(Ljava/lang/String;Ljava/lang/String;)V",e,t)}shareInWhatsApp(e){if(!(this.getVersionCode()<50))return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","shareToApp","(Ljava/lang/String;Ljava/lang/String;)V","com.whatsapp",e)}}:cc.sys.os==cc.sys.OS_IOS?new class extends a{constructor(){super(),this.version="",this.packageName="",this.channelID="",this.channelID=this.getMetaData("APP_CHANNEL")}getVersion(){return this.version}getPackageName(){return this.packageName}getMetaData(e){return jsb.reflection.callStaticMethod("MKSystem","getMetaData:",e)}getChannelID(){return this.channelID}copyStrToClipboard(e){jsb.reflection.callStaticMethod("MKSystem","copyStrToClipboard:",e)}getFileMD5(e){return jsb.reflection.callStaticMethod("MKSystem","getFileMD5:",e)}}:new n:new n,i.system=s,cc._RF.pop()},{}],MKUtils:[function(e,t,i){"use strict";cc._RF.push(t,"67818ViSbNBt7n0lfXcd04e","MKUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=void 0;class a{static randRange(e,t){return Math.floor(Math.random()*(t-e+1))+e}static strMaxCut(e,t){for(var i="",a=0,n=0;n<e.length;n++){var s=e[n];s.charCodeAt(0)>255?a+=2:a++,a<=t&&(i+=s)}return a>t?i+"...":i}static dateFormat(e,t){var i=new Date(t);let a;const n={"Y+":i.getFullYear().toString(),"m+":(i.getMonth()+1).toString(),"d+":i.getDate().toString(),"H+":i.getHours().toString(),"M+":i.getMinutes().toString(),"S+":i.getSeconds().toString()};for(let s in n)(a=new RegExp("("+s+")").exec(e))&&(e=e.replace(a[1],1==a[1].length?n[s]:n[s].padStart(a[1].length,"0")));return e}static getUrlParams(){if(cc.sys.isNative)return{};var e=window.location.search;return a.parseUrlParams(e)}static parseUrlParams(e){var t={},i=e.indexOf("?");if(-1!=i)for(var a=e.substr(i+1).split("&"),n=0;n<a.length;n++)t[a[n].split("=")[0]]=a[n].split("=")[1];return t}static resize(){var e=cc.find("Canvas").getComponent(cc.Canvas);this.curDR||(this.curDR=e.designResolution);var t=this.curDR,i=cc.view.getFrameSize(),a=i.width,n=i.height,s=a,o=n;a/n>t.width/t.height?s=(o=t.height)*a/n:o=n/a*(s=t.width),e.designResolution=cc.size(s,o),e.node.width=s,e.node.height=o,e.node.emit("resize")}static maxCountElement(e){let t={};for(let s=0;s<e.length;s++){let i=e[s];t[i]?t[i]++:t[i]=1}let i=0,a=[],n=[];for(let s in t)i<t[s]?(i=t[s],a[0]=s,n.length=0):i===t[s]&&n.push(s);if(n.length>0)for(let s=0;s<n.length;s++)a.push(n[s]);return a}static isEmail(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(e)}static isPhone(e){return/^(\d*)$/.test(e)}static isUserName(e){return/^[A-Za-z0-9][A-Za-z0-9\s]*[A-Za-z0-9]$/.test(e)}}i.Utils=a,a.curDR=null,cc._RF.pop()},{}],MenuLayer:[function(e,t,i){"use strict";cc._RF.push(t,"0de2b6hsk5OQo/U/taIk3GO","MenuLayer");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("./Common/PopupBase"),o=e("./Common/PopupManager"),r=e("../Business/Data/CommonDefine"),c=e("../Business/Data/SaveDataManager"),{ccclass:l,property:u,menu:d}=cc._decorator;let p=class extends s.default{constructor(){super(...arguments),this.animationDuration=0,this.btnPaytable=null,this.btnHelp=null,this.btnLanguage=null,this.btnRecord=null,this.imgMusic=null,this.imgSound=null,this.imgMusicOn=null,this.imgMusicOff=null,this.imgSoundOn=null,this.imgSoundOff=null,this.musicOn=!1,this.soundOn=!1}static get path(){return"Scenes/Game/menu_layer"}onLoad(){this.main||(this.main=this.node),this.btnPaytable.on(cc.Node.EventType.TOUCH_END,this.onTouchPaytable,this),this.btnHelp.on(cc.Node.EventType.TOUCH_END,this.onTouchHelp,this),this.btnLanguage.on(cc.Node.EventType.TOUCH_END,this.onTouchLanguage,this),this.btnRecord.on(cc.Node.EventType.TOUCH_END,this.onTouchRecord,this),this.musicOn=c.default.getMusicEnable(),this.soundOn=c.default.getEffectEnable(),this.imgMusic.spriteFrame=this.musicOn?this.imgMusicOn:this.imgMusicOff,this.imgSound.spriteFrame=this.soundOn?this.imgSoundOn:this.imgSoundOff}onTouchClose(){this.hide()}onTouchPaytable(){o.default.show(r.PrefabList.PaytableLayer),this.hide()}onTouchHelp(){o.default.show(r.PrefabList.HelpLayer),this.hide()}onTouchLanguage(){o.default.show(r.PrefabList.LanguageLayer),this.hide()}onTouchRecord(){o.default.show(r.PrefabList.GameRecordLayer),this.hide()}onTouchMusic(){this.musicOn=!this.musicOn,this.imgMusic.spriteFrame=this.musicOn?this.imgMusicOn:this.imgMusicOff,c.default.setMusicEnable(this.musicOn),n.AudioEngine.setMusicEnabled(this.musicOn)}onTouchSound(){this.soundOn=!this.soundOn,this.imgSound.spriteFrame=this.soundOn?this.imgSoundOn:this.imgSoundOff,c.default.setEffectEnable(this.soundOn),n.AudioEngine.setEffectsEnabled(this.soundOn),n.AudioEngine.playEffect(r.SoundList.Click)}};a([u(cc.Node)],p.prototype,"btnPaytable",void 0),a([u(cc.Node)],p.prototype,"btnHelp",void 0),a([u(cc.Node)],p.prototype,"btnLanguage",void 0),a([u(cc.Node)],p.prototype,"btnRecord",void 0),a([u(cc.Sprite)],p.prototype,"imgMusic",void 0),a([u(cc.Sprite)],p.prototype,"imgSound",void 0),a([u(cc.SpriteFrame)],p.prototype,"imgMusicOn",void 0),a([u(cc.SpriteFrame)],p.prototype,"imgMusicOff",void 0),a([u(cc.SpriteFrame)],p.prototype,"imgSoundOn",void 0),a([u(cc.SpriteFrame)],p.prototype,"imgSoundOff",void 0),p=a([l],p),i.default=p,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/SaveDataManager":"SaveDataManager","../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase","./Common/PopupManager":"PopupManager"}],MessageLayer:[function(e,t,i){"use strict";cc._RF.push(t,"b2bfbTFimhL5ZPL17spCwWl","MessageLayer");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Common/PopupBase"),{ccclass:s,property:o,menu:r}=cc._decorator;let c=class extends n.default{constructor(){super(...arguments),this.txtTips=null,this.animationDuration=.3}static get path(){return"Scenes/Game/message_layer"}updateDisplay(e){this.txtTips.string=e,this.scheduleOnce(()=>{this.hide()},2)}onTouchClose(){this.hide()}};a([o(cc.Label)],c.prototype,"txtTips",void 0),c=a([s],c),i.default=c,cc._RF.pop()},{"./Common/PopupBase":"PopupBase"}],NetworkController:[function(e,t,i){"use strict";cc._RF.push(t,"56f188UTbdI+qVXVv/UcjG4","NetworkController");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.NetworkController=i.CmdTokenLogin=i.CmdGetServerConfig=void 0;const n=e("../../MobileKit/MKIndex"),s=e("../../Business/Data/ConfigManager"),o=e("../../Business/Data/DataManager"),r=e("./NetworkNotice");let c=class{};c=a([n.createCommand],c),i.CmdGetServerConfig=c;let l=class{};l=a([n.createCommand],l),i.CmdTokenLogin=l;class u extends n.Controller{constructor(){super(),this.setName("NetworkController"),n.noticeCenter.registAllNotice(this),n.commandCenter.registAllCommand(this)}onExit(){n.noticeCenter.targetOff(this),n.commandCenter.targetOff(this)}onCmdGetServerConfig(e){var t=s.default.urlConfig.base+"getconfig",i={};i.channel=n.system.getChannelID(),i.package=n.system.getPackageName(),i.version=n.system.getVersion(),i.deviceid=n.system.getDeviceID(),cc.log("getconfig params = "+JSON.stringify(i)),n.Http.get(t,i,this.onSetting.bind(this))}onSetting(e,t){if(e&&(cc.log("getconfig result = ",JSON.stringify(t)),200==t.code)){let e=o.default.homeData;e.setChipsUnit(t.chipUnit),e.setGameId(t.gameid)}}onCmdTokenLogin(e){let t=s.default.urlConfig.base+"checktoken",i={};i.channel=n.system.getChannelID(),i.package=n.system.getPackageName(),i.version=n.system.getVersion(),i.deviceid=n.system.getDeviceID(),i.devicetype=n.system.getPlatform(),i.token=o.default.userData.getCert(),cc.log("checktoken params = "+JSON.stringify(i)),n.Http.post(t,i,this.onNetTokenLogin.bind(this))}onNetTokenLogin(e,t){e?(cc.log("checktoken result = "+JSON.stringify(t)),200==t.code?this.setUserData(t):this.loginSDKFailed(t.code)):this.loginSDKFailed()}setUserData(e){let t=o.default.userData;t.setUid(e.uid),t.setNickName(e.nickName),t.setCert(e.token),t.setLogined(!0),t.setHeadUrl(e.headUrl),t.setBalance(e.balance)}loginSDKFailed(e,t){null==e&&(e=1),n.noticeCenter.emit(new r.NtcLogin(e))}}a([n.onCommand(c)],u.prototype,"onCmdGetServerConfig",null),a([n.onCommand(l)],u.prototype,"onCmdTokenLogin",null),i.NetworkController=u,cc._RF.pop()},{"../../Business/Data/ConfigManager":"ConfigManager","../../Business/Data/DataManager":"DataManager","../../MobileKit/MKIndex":"MKIndex","./NetworkNotice":"NetworkNotice"}],NetworkNotice:[function(e,t,i){"use strict";cc._RF.push(t,"dcce6iOurFKsYzb0t5YwJu5","NetworkNotice");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.NtcGetServerConfig=i.NtcDisconnect=i.NtcLogin=void 0;const n=e("../../MobileKit/MKIndex");let s=class{constructor(e){this.result=e}};s=a([n.createNotice],s),i.NtcLogin=s;let o=class{constructor(e){this.reason=e}};o=a([n.createNotice],o),i.NtcDisconnect=o;let r=class{};r=a([n.createNotice],r),i.NtcGetServerConfig=r,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],PaytableLayer:[function(e,t,i){"use strict";cc._RF.push(t,"d7eb0s+xJhFcZNoWpGlXYfD","PaytableLayer");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Common/PopupBase"),{ccclass:s,property:o,menu:r}=cc._decorator;let c=class extends n.default{constructor(){super(...arguments),this.animationDuration=0}static get path(){return"Scenes/Game/paytable_larer"}onLoad(){this.main||(this.main=this.node)}onTouchClose(){this.hide()}};c=a([s],c),i.default=c,cc._RF.pop()},{"./Common/PopupBase":"PopupBase"}],PopupBase:[function(e,t,i){"use strict";cc._RF.push(t,"b6107kAL7dMzqZ3iXRw2h4a","PopupBase");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(n,s){function o(e){try{c(a.next(e))}catch(t){s(t)}}function r(e){try{c(a.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,r)}c((a=a.apply(e,t||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:s,property:o}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.background=null,this.main=null,this.animationDuration=.3,this.blocker=null,this.options=null,this.finishCallback=null}show(e,t){return n(this,void 0,void 0,function*(){this.options=e,this.init(e),this.updateDisplay(e),this.onBeforeShow&&(yield this.onBeforeShow()),null==t&&(t=t<0?0:this.animationDuration),yield this.playShowAnimation(t),this.onAfterShow&&this.onAfterShow()})}hide(e=!1,t){return n(this,void 0,void 0,function*(){const i=this.node;if(0!==t){let e=this.blocker;e||((e=this.blocker=new cc.Node("blocker")).addComponent(cc.BlockInputEvents),e.setParent(i),e.setContentSize(i.getContentSize())),e.active=!0}this.onBeforeHide&&(yield this.onBeforeHide(e)),null==t&&(t=t<0?0:this.animationDuration),yield this.playHideAnimation(t),this.blocker&&(this.blocker.active=!1),i.active=!1,this.onAfterHide&&this.onAfterHide(e),this.finishCallback&&this.finishCallback(e)})}playShowAnimation(e){return new Promise(t=>{const i=this.background,a=this.main;this.node.active=!0,i.active=!0,i.opacity=0,a.active=!0,a.scale=.5,a.opacity=0,cc.tween(i).to(.5*e,{opacity:150}).start(),cc.tween(a).to(e,{scale:1,opacity:255},{easing:"backOut"}).call(t).start()})}playHideAnimation(e){return new Promise(t=>{cc.tween(this.background).delay(.5*e).to(.5*e,{opacity:0}).start(),cc.tween(this.main).to(e,{scale:.5,opacity:0},{easing:"backIn"}).call(t).start()})}init(e){}updateDisplay(e){}onBeforeShow(){return new Promise(e=>e())}onAfterShow(){}onBeforeHide(e){return new Promise(e=>e())}onAfterHide(e){}onSuspended(){return new Promise(e=>e())}};a([o({type:cc.Node,tooltip:!1})],r.prototype,"background",void 0),a([o({type:cc.Node,tooltip:!1})],r.prototype,"main",void 0),r=a([s],r),i.default=r,cc._RF.pop()},{}],PopupManager:[function(e,t,i){"use strict";cc._RF.push(t,"c0ea1lR4GpK0bTmoo90xNjo","PopupManager");var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(n,s){function o(e){try{c(a.next(e))}catch(t){s(t)}}function r(e){try{c(a.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,r)}c((a=a.apply(e,t||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./PopupBase");var s,o;(function(e){e[e.Once=1]="Once",e[e.Normal=2]="Normal",e[e.Frequent=3]="Frequent"})(s||(s={})),function(e){e[e.Done=1]="Done",e[e.Failed=2]="Failed",e[e.Waiting=3]="Waiting"}(o||(o={}));class r{static get prefabCache(){return this._prefabCache}static get nodeCache(){return this._nodeCache}static get current(){return this._current}static get queue(){return this._queue}static get suspended(){return this._suspended}static get container(){return this._container||cc.Canvas.instance.node}static set container(e){this._container=e}static get CacheMode(){return s}static get ShowResultType(){return o}static show(e,t,i){return new Promise(s=>a(this,void 0,void 0,function*(){if(i=this.parseParams(i),this._current||this.locked){if(!i||!i.immediately)return this.push(e,t,i),void s(o.Waiting);this.locked=!1,yield this.suspend()}this._current={path:e,options:t,params:i};let r=this.getNodeFromCache(e);if(!cc.isValid(r)){this.loadStartCallback&&this.loadStartCallback();const t=yield this.load(e);if(this.loadFinishCallback&&this.loadFinishCallback(),!cc.isValid(t))return cc.warn("[PopupManager]","\u5f39\u7a97\u52a0\u8f7d\u5931\u8d25",e),this._current=null,void s(o.Failed);r=cc.instantiate(t)}const c=r.getComponent(n.default);if(!c)return cc.warn("[PopupManager]","\u672a\u627e\u5230\u5f39\u7a97\u7ec4\u4ef6",e),this._current=null,void s(o.Failed);this._current.popup=c,this._current.node=r,r.setParent(this.container),r.setSiblingIndex(cc.macro.MAX_ZINDEX),c.finishCallback=t=>a(this,void 0,void 0,function*(){t||(this.locked=this._suspended.length>0||this._queue.length>0,this.recycle(e,r,i.mode),this._current=null,s(o.Done),yield new Promise(e=>{cc.Canvas.instance.scheduleOnce(e,this.interval)}),this.next())}),c.show(t)}))}static hide(){cc.isValid(this._current.popup)&&this._current.popup.hide()}static getNodeFromCache(e){const t=this._nodeCache;if(t.has(e)){const i=t.get(e);if(cc.isValid(i))return i;t.delete(e)}const i=this._prefabCache;if(i.has(e)){const t=i.get(e);if(cc.isValid(t))return t.addRef(),cc.instantiate(t);i.delete(e)}return null}static next(){if(this._current||0===this._suspended.length&&0===this._queue.length)return;let e=null;if(e=this._suspended.length>0?this._suspended.shift():this._queue.shift(),this.locked=!1,cc.isValid(e.popup))return this._current=e,e.node.setParent(this.container),void e.popup.show(e.options);this.show(e.path,e.options,e.params)}static push(e,t,i){this._current||this.locked?(this._queue.push({path:e,options:t,params:i}),this._queue.sort((e,t)=>e.params.priority-t.params.priority)):this.show(e,t,i)}static suspend(){return a(this,void 0,void 0,function*(){if(!this._current)return;const e=this._current;this._suspended.push(e),yield e.popup.onSuspended(),yield e.popup.hide(!0),this._current=null})}static recycle(e,t,i){switch(i){case s.Once:this._nodeCache.delete(e),t.destroy(),this.release(e);break;case s.Normal:this._nodeCache.delete(e),t.destroy();break;case s.Frequent:t.removeFromParent(!1),this._nodeCache.set(e,t)}}static load(e){return new Promise(t=>{const i=this._prefabCache;if(i.has(e)){const a=i.get(e);if(cc.isValid(a))return void t(a);i.delete(e)}cc.resources.load(e,(a,n)=>{a?t(null):(i.set(e,n),t(n))})})}static release(e){const t=this._nodeCache;let i=t.get(e);i&&(t.delete(e),cc.isValid(i)&&i.destroy(),i=null);const a=this._prefabCache;let n=a.get(e);n&&(n.refCount<=1&&a.delete(e),n.decRef(),n=null)}static parseParams(e){return null==e?new c:"[object Object]"!==Object.prototype.toString.call(e)?(cc.warn("[PopupManager]","\u5f39\u7a97\u53c2\u6570\u65e0\u6548\uff0c\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570"),new c):(null==e.mode&&(e.mode=s.Normal),null==e.priority&&(e.priority=0),null==e.immediately&&(e.immediately=!1),e)}}i.default=r,r._prefabCache=new Map,r._nodeCache=new Map,r._current=null,r._queue=[],r._suspended=[],r.locked=!1,r._container=null,r.interval=.05,r.loadStartCallback=null,r.loadFinishCallback=null;class c{constructor(){this.mode=s.Normal,this.priority=0,this.immediately=!1}}cc._RF.pop()},{"./PopupBase":"PopupBase"}],PrefabPool:[function(e,t,i){"use strict";cc._RF.push(t,"66c96CKFiJAvYsrBV2ocv6V","PrefabPool");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:s}=cc._decorator;let o=class{static get(e,t=null){null==this.poolList[e]&&(this.poolList[e]=[]);let i,a=this.poolList[e];0==a.length?(i=cc.instantiate(cc.resources.get(e))).poolKey=e:i=a.pop();var n=t?i.getComponent(t):null;return n&&n.reuse&&n.reuse.apply(n,arguments),i}static put(e,t=null){let i=this.poolList[e.poolKey];if(i&&-1==i.indexOf(e)){e.removeFromParent(!1);var a=t?e.getComponent(t):null;a&&a.unuse&&a.unuse(),i.push(e)}}static clear(e){let t=this.poolList[e];if(t){for(let e=0,i=t.length;e<i;e++)t[e].destroy();t.length=0}}static clearAll(){for(let e in this.poolList)this.clear(e)}static size(e){let t=this.poolList[e];return t?t.length:0}};o.poolList={},o=a([n],o),i.default=o,cc._RF.pop()},{}],RecordCell:[function(e,t,i){"use strict";cc._RF.push(t,"e41eeLhiGZOyrvQDMXAqvhl","RecordCell");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.RecordCell=void 0;const n=e("../MobileKit/MKIndex"),s=e("./Common/UIUtils"),{ccclass:o,property:r,menu:c}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.txtBet=null,this.txtDate=null,this.txtTime=null,this.txtWin=null}onLoad(){}setData(e){this.txtDate.string=n.Utils.dateFormat("dd.mm.YYYY",e.time),this.txtTime.string=n.Utils.dateFormat("HH:MM:SS",e.time),this.txtBet.string=s.UIUtils.getShortNumber(e.bet),e.win<=0?(this.txtWin.node.color=cc.Color.GRAY,this.txtWin.string="0"):(this.txtWin.node.color=cc.Color.WHITE,this.txtWin.string="+"+s.UIUtils.getShortNumber(e.win))}};a([r(cc.Label)],l.prototype,"txtBet",void 0),a([r(cc.Label)],l.prototype,"txtDate",void 0),a([r(cc.Label)],l.prototype,"txtTime",void 0),a([r(cc.Label)],l.prototype,"txtWin",void 0),l=a([o],l),i.RecordCell=l,cc._RF.pop()},{"../MobileKit/MKIndex":"MKIndex","./Common/UIUtils":"UIUtils"}],RecordPage:[function(e,t,i){"use strict";cc._RF.push(t,"7240cam8kdLS5uP90S42fwc","RecordPage");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.RecordPage=void 0;const n=e("../Business/Data/CommonDefine"),s=e("./RecordCell"),o=e("./Common/PrefabPool"),{ccclass:r,property:c,menu:l}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.recordNode=null,this.recordList=[]}onLoad(){}setRecordList(e){this.recordList=e,this.showRecordList()}showRecordList(){this.recordList.forEach(e=>{let t=o.default.get(n.PrefabList.RecordCell),i=t.getComponent(s.RecordCell);t.setParent(this.recordNode),i.setData(e)})}onDisable(){}};a([c(cc.Node)],u.prototype,"recordNode",void 0),u=a([r],u),i.RecordPage=u,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","./Common/PrefabPool":"PrefabPool","./RecordCell":"RecordCell"}],SaveDataManager:[function(e,t,i){"use strict";cc._RF.push(t,"b5bf4wNauFNv7zVDbOkrZQ9","SaveDataManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{static init(){"1"!=cc.sys.localStorage.getItem("storageInited")&&(cc.sys.localStorage.setItem("isGameInitialized",1),cc.sys.localStorage.setItem("isEffect",1),cc.sys.localStorage.setItem("EffectVolume","1.0"),cc.sys.localStorage.setItem("isMusic",1),cc.sys.localStorage.setItem("MusicVolume","0.5"),cc.sys.localStorage.setItem("login_data",""),cc.sys.localStorage.setItem("update_version","0.0.0"),cc.sys.localStorage.setItem("storageInited",1),cc.sys.localStorage.setItem("AFConversionSource",0))}static setMusiceVolume(e){cc.sys.localStorage.setItem("MusicVolume",e+"")}static getMusiceVolume(){return parseFloat(cc.sys.localStorage.getItem("MusicVolume"))}static setEffectVolume(e){cc.sys.localStorage.setItem("EffectVolume",e+"")}static getEffectVolume(){return parseFloat(cc.sys.localStorage.getItem("EffectVolume"))}static setEffectEnable(e){cc.sys.localStorage.setItem("isEffect",e?1:-1)}static getEffectEnable(){return 1===parseInt(cc.sys.localStorage.getItem("isEffect"))}static setMusicEnable(e){cc.sys.localStorage.setItem("isMusic",e?1:-1)}static getMusicEnable(){return 1===parseInt(cc.sys.localStorage.getItem("isMusic"))}static setLoginData(e){cc.sys.localStorage.setItem("login_data",e)}static getLoginData(){return cc.sys.localStorage.getItem("login_data")}static setUpdateVersion(e){cc.sys.localStorage.setItem("update_version",e)}static getUpdateVersion(){return cc.sys.localStorage.getItem("update_version")}static setLastLoginTime(e){cc.sys.localStorage.setItem("last_login_time",e)}static getLastLoginTime(){return Number(cc.sys.localStorage.getItem("last_login_time"))}},cc._RF.pop()},{}],SceneController:[function(e,t,i){"use strict";cc._RF.push(t,"0e547EKRatPwbOjldagOfi/","SceneController");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.SceneController=i.CmdScene=void 0;const n=e("../../MobileKit/MKIndex"),s=e("../Data/CommonDefine");let o=class{constructor(e){this.sceneType=e}};o=a([n.createCommand],o),i.CmdScene=o;class r extends n.Controller{constructor(){super(),this.setName("SceneController"),n.commandCenter.registAllCommand(this)}onCmdScene(e){let t=e.sceneType,i=null;t===s.SceneType.Game?i="Game":t==s.SceneType.Loading?i="Loading":t==s.SceneType.Lobby&&(i="Lobby"),null!=i&&cc.director.loadScene(i)}}a([n.onCommand(o)],r.prototype,"onCmdScene",null),i.SceneController=r,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex","../Data/CommonDefine":"CommonDefine"}],ScrollBarEnhance:[function(e,t,i){"use strict";cc._RF.push(t,"b1e2dgHsFtEUJDgCS9zOo13","ScrollBarEnhance");var a,n=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.ScrollBarEnhance=void 0;const{ccclass:s,property:o,requireComponent:r,menu:c}=cc._decorator;let l=a=class extends cc.Component{constructor(){super(...arguments),this.scrollView=null,this.renderEvent=[],this.vSlider=null}static creatEventHandler(e,t,i){const a=new cc.Component.EventHandler;return a.target=e,a.component=t,a.handler=i,a}refresh(e){let t,i=this.vSlider||this.node.getComponent(cc.Slider);t=Math.min(e,1),t=Math.max(e,0),i.progress=t,this.onSliderEvent(i,"")}start(){this.addScrollChildIndex()}addScrollChildIndex(){const e=this.scrollView;this.vSlider=this.node.getComponent(cc.Slider);let t=cc.js.getClassName(this);this.vSlider.slideEvents.push(a.creatEventHandler(this.node,t,"onSliderEvent")),e.scrollEvents.push(a.creatEventHandler(this.node,t,"onScrollEvent")),this.scrollMoveEvent()}onScrollEvent(e,t,i){switch(t){case cc.ScrollView.EventType.SCROLL_BEGAN:case cc.ScrollView.EventType.SCROLL_ENDED:break;case cc.ScrollView.EventType.SCROLLING:this.scrollMoveEvent()}}scrollMoveEvent(){let e,t;this.scrollView.vertical?(e=this.scrollView.getMaxScrollOffset().y,t=this.scrollView.getScrollOffset().y):(e=this.scrollView.getMaxScrollOffset().x,t=-1*this.scrollView.getScrollOffset().x),this.vSlider.progress=t/e>0&&t/e<1?t/e:t/e<=0?0:1,this.renderEvent&&this.renderEvent.length&&cc.Component.EventHandler.emitEvents(this.renderEvent,this.vSlider.progress)}onSliderEvent(e,t){let i=0,a=0;this.scrollView.vertical?(i=this.scrollView.getScrollOffset().x,a=this.scrollView.getMaxScrollOffset().y*e.progress):(i=this.scrollView.getMaxScrollOffset().x*e.progress,a=this.scrollView.getScrollOffset().y),this.scrollView.scrollToOffset(cc.v2(i,a),.05)}};n([o({tooltip:"\u5bf9\u5e94\u7684\uff08ScrollView\uff09\u6ed1\u52a8\u5217\u8868",type:cc.ScrollView})],l.prototype,"scrollView",void 0),n([o({type:[cc.Component.EventHandler],tooltip:!1})],l.prototype,"renderEvent",void 0),l=a=n([s,r(cc.Slider),c("\u7ec4\u4ef6\u5e93/ScrollBarEnhance")],l),i.ScrollBarEnhance=l,cc._RF.pop()},{}],TapStartLayer:[function(e,t,i){"use strict";cc._RF.push(t,"8af22+ff8xIEZPrZ9IIR4Zu","TapStartLayer");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:s,menu:o}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.innerCircle=null,this.outerCircle=null}static get path(){return"Scenes/Game/award_layer"}onLoad(){cc.tween(this.innerCircle).to(.7,{scale:1.2},{easing:"smooth"}).to(.5,{scale:1},{easing:"smooth"}).union().repeatForever().start(),cc.tween(this.outerCircle).to(.7,{scale:3,opacity:0},{easing:"smooth"}).to(0,{scale:1,opacity:255},{easing:"smooth"}).delay(.5).union().repeatForever().start(),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchStart,this)}onTouchStart(){cc.tween(this.node).by(.3,{y:this.node.height},{easing:"smooth"}).call(()=>{this.node.active=!1}).start()}};a([s(cc.Node)],r.prototype,"innerCircle",void 0),a([s(cc.Node)],r.prototype,"outerCircle",void 0),r=a([n],r),i.default=r,cc._RF.pop()},{}],UIUtils:[function(e,t,i){"use strict";cc._RF.push(t,"42718I/3LJJtKtCYuOhAlRx","UIUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.UIUtils=i.UnitKilo=i.UnitLakh=i.UnitCrore=void 0;const a=e("../../Business/Data/DataManager");i.UnitCrore=1e7,i.UnitLakh=1e5,i.UnitKilo=1e3;class n{}i.UIUtils=n,n.getShortNumber=function(e,t,s){e/=a.default.homeData.getChipsUnit();var o,r=Math.abs(e);return o=r>=i.UnitCrore?n.getShortStr(r,i.UnitCrore,"Cr"):r>=i.UnitLakh?n.getShortStr(r,i.UnitLakh,"L"):n.getSeparatorNumber(r,t),e<0?o="-"+o:e>0&&s&&(o="+"+o),o},n.getShortStr=function(e,t,i){var a=e/t;return n.getSeparatorNumber(a)+i},n.getSeparatorNumber=function(e,t=!1){var i=e%1;i=Math.floor(100*(i+cc.macro.FLT_EPSILON))/100;for(var a=Math.floor(e).toString(),n="",s=0,o=a.length;s<o;){var r=o-s;r>10?(n=n+a.substr(s,o-10)+",",s=o-10):r>7?(n=n+a.substr(s,o-7)+",",s=o-7):r>5?(n=n+a.substr(s,o-5)+",",s=o-5):r>3?(n=n+a.substr(s,o-3)+",",s=o-3):(n+=a.substr(s,o),s=o)}if(i>=.005){for(var c=i.toString();c.length<=3;)c+="0";n+=c.substr(1,c.length-1)}return 0==i&&t&&(n+=".00"),n},cc._RF.pop()},{"../../Business/Data/DataManager":"DataManager"}],UserData:[function(e,t,i){"use strict";cc._RF.push(t,"dad16pPzIBPJKEhCrLrDRq7","UserData"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(){this.m_uid="",this.m_nickName="",this.m_cert="",this.m_isLogined=!1,this.m_headUrl="",this.m_balance=0,this.m_selectChip=0,this.m_gameRecordLst=[],this.m_midBet=!1,this.m_chipMap=new Map,this.reset()}reset(){this.m_uid="",this.m_nickName="",this.m_cert="",this.m_isLogined=!1,this.m_headUrl="",this.m_balance=0,this.m_selectChip=0,this.m_gameRecordLst=[],this.m_midBet=!1,this.m_chipMap.clear()}setNickName(e){this.m_nickName=e}getNickName(){return this.m_nickName}setUid(e){this.m_uid=e}getUid(){return this.m_uid}setCert(e){this.m_cert=e}getCert(){return this.m_cert}setLogined(e){this.m_isLogined=e}isLogined(){return this.m_isLogined}getHeadUrl(){return this.m_headUrl}setHeadUrl(e){this.m_headUrl=e}getBalance(){return this.m_balance}setBalance(e){this.m_balance=e}getSelectChip(){return this.m_selectChip}setSelectChip(e){this.m_selectChip=e}getMidBet(){return this.m_midBet}setMidBet(e){this.m_midBet=e}getGameRecordLst(){return this.m_gameRecordLst}setGameRecordLst(e){this.m_gameRecordLst=e}getBetSum(){let e=0;return this.m_chipMap.forEach(t=>{e+=t.betSum}),e}getChipMap(){return this.m_chipMap}},cc._RF.pop()},{}],i18nLabel:[function(e,t,i){"use strict";cc._RF.push(t,"3e7e1yL3ltF4Ld2ONOefDbB","i18nLabel");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.i18nLabel=void 0;const n=e("./MKLocalLang"),{ccclass:s,property:o,executeInEditMode:r,disallowMultiple:c,requireComponent:l,menu:u}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this.i18n_string="",this.i18n_params=[]}start(){n.LocalLang._addOrDelLabel(this,!0),this._resetValue()}get string(){return this.i18n_string}set string(e){this.i18n_string=e,this.setEndValue()}get params(){return this.i18n_params}set params(e){this.i18n_params=e,this.setEndValue()}init(e,t){this.i18n_string=e,this.i18n_params=t,this.setEndValue()}setEndValue(){let e=this.getComponent(cc.Label);cc.isValid(e)&&(e.string=n.LocalLang.get(this.i18n_string,this.i18n_params))}_resetValue(){this.string=this.i18n_string}onDestroy(){n.LocalLang._addOrDelLabel(this,!1)}};a([o({visible:!1})],d.prototype,"i18n_string",void 0),a([o({visible:!1})],d.prototype,"i18n_params",void 0),a([o({type:cc.String})],d.prototype,"string",null),a([o({type:[cc.String]})],d.prototype,"params",null),d=a([s,r,l(cc.Label),c,u("\u591a\u8bed\u8a00/i18nLabel")],d),i.i18nLabel=d,cc._RF.pop()},{"./MKLocalLang":"MKLocalLang"}],i18nSprite:[function(e,t,i){"use strict";cc._RF.push(t,"a8777HUMEtKZKZSmfQV4Q10","i18nSprite");var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.i18nSprite=void 0;const n=e("./MKLocalLang"),{ccclass:s,property:o,executeInEditMode:r,disallowMultiple:c,requireComponent:l,menu:u}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this.i18n_string=""}start(){n.LocalLang._addOrDelSprite(this,!0),this._resetValue()}get string(){return this.i18n_string}set string(e){this.i18n_string=e;let t=this.getComponent(cc.Sprite);cc.isValid(t)&&n.LocalLang._getSprite(e,e=>{cc.isValid(t)&&(t.spriteFrame=e)})}_resetValue(){this.string=this.i18n_string}onDestroy(){n.LocalLang._addOrDelSprite(this,!1)}};a([o({visible:!1})],d.prototype,"i18n_string",void 0),a([o({type:cc.String})],d.prototype,"string",null),d=a([s,r,l(cc.Sprite),c,u("\u591a\u8bed\u8a00/i18nSprite")],d),i.i18nSprite=d,cc._RF.pop()},{"./MKLocalLang":"MKLocalLang"}]},{},["BetData","CommonDefine","ConfigManager","DataManager","GameData","HomeData","SaveDataManager","UserData","GameController","GameNotice","SceneController","HttpUtils","NetworkController","NetworkNotice","HeartBeatHandler","MKAudioEngine","MKCryptoUtils","MKImageDownloader","MKLocalLang","MKSystem","MKUtils","i18nLabel","i18nSprite","ClickSoundComponent","MKActionQueue","MKCommandCenter","MKNoticeCenter","MKIndex","MKHttp","MKSocket","AwardLayer","BetCell","BetChip","GradientColor","PopupBase","PopupManager","PrefabPool","ScrollBarEnhance","UIUtils","GameRecordLayer","GameScene","LanguageLayer","LoadingConfig","LoadingScene","MenuLayer","MessageLayer","PaytableLayer","RecordCell","RecordPage","TapStartLayer"]);